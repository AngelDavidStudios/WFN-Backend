================================================================================
PLAN DE DESARROLLO FRONTEND - SISTEMA DE NÃ“MINAS WFN
================================================================================
Fecha: 29 de Noviembre, 2025
Stack: Vue.js 3 + TypeScript + Pinia + Vue Router + TailwindCSS + Axios

================================================================================
FASE 1: CONFIGURACIÃ“N Y ESTRUCTURA BASE
================================================================================

1.1 ConfiguraciÃ³n Inicial
--------------------------
â–¡ Configurar variables de entorno (.env)
  - VITE_API_BASE_URL (URL del backend)
  - VITE_APP_NAME
  - VITE_APP_VERSION

â–¡ Configurar Axios interceptors
  - Crear instancia base de axios
  - Configurar headers por defecto
  - Manejo de errores globales
  - Interceptor para token de autenticaciÃ³n (futuro SSO)

â–¡ Implementar PatrÃ³n de DiseÃ±o Facade para APIs
  - Crear API Facade (api/apiFacade.ts)
    * Centralizar todas las llamadas a los servicios
    * Interfaz unificada y simplificada
    * AbstracciÃ³n de la complejidad de axios
  - Ventajas:
    * Punto Ãºnico de acceso a todas las APIs
    * Facilita el cambio de librerÃ­a HTTP si es necesario
    * Simplifica el testing (mock de un solo punto)
    * Mejora el mantenimiento del cÃ³digo
  - Estructura:
    apiFacade.ts
      â”œâ”€â”€ empleadoAPI    - Fachada para empleados
      â”œâ”€â”€ departamentoAPI - Fachada para departamentos
      â”œâ”€â”€ nominaAPI      - Fachada para nÃ³minas
      â”œâ”€â”€ novedadAPI     - Fachada para novedades
      â”œâ”€â”€ provisionAPI   - Fachada para provisiones
      â”œâ”€â”€ parametroAPI   - Fachada para parÃ¡metros
      â”œâ”€â”€ workspaceAPI   - Fachada para workspaces
      â”œâ”€â”€ personaAPI     - Fachada para personas
      â””â”€â”€ bankingAPI     - Fachada para cuentas bancarias

â–¡ Estructura de carpetas
  /src
    /assets         - ImÃ¡genes, iconos, fuentes
    /components     - Componentes reutilizables
      /common       - Botones, inputs, modales, etc.
      /layout       - Navbar, Sidebar, Footer
      /charts       - GrÃ¡ficos y visualizaciones
    /views          - PÃ¡ginas/Vistas principales
    /router         - ConfiguraciÃ³n de rutas
    /stores         - Estado global con Pinia
    /api            - PatrÃ³n Facade para APIs
      apiFacade.ts  - Fachada principal
      axiosInstance.ts - Instancia configurada de Axios
    /services       - Servicios de negocio (usan la Facade)
    /types          - Definiciones TypeScript
    /utils          - Funciones utilitarias
    /composables    - Composables de Vue

1.2 DefiniciÃ³n de Tipos TypeScript
-----------------------------------
â–¡ Crear interfaces basadas en modelos del backend:
  - Persona.ts
  - Empleado.ts
  - Departamento.ts
  - Nomina.ts
  - Novedad.ts
  - Parametro.ts
  - Banking.ts
  - Provision.ts
  - Workspace.ts

â–¡ Crear tipos auxiliares:
  - ApiResponse.ts
  - PaginationParams.ts
  - FilterParams.ts
  - ErrorResponse.ts

1.3 ImplementaciÃ³n del PatrÃ³n Facade para APIs
-----------------------------------------------
â–¡ Paso 1: Crear instancia base de Axios (api/axiosInstance.ts)
  - Configurar baseURL desde variables de entorno
  - Configurar timeout
  - Configurar headers por defecto (Content-Type, Accept)
  - Implementar interceptor de request (agregar token)
  - Implementar interceptor de response (manejo de errores)
  - Manejo centralizado de errores HTTP (401, 403, 404, 500)

â–¡ Paso 2: Crear Facade principal (api/apiFacade.ts)
  - Importar instancia de axios
  - Crear mÃ©todos genÃ©ricos reutilizables:
    * get<T>(url: string, config?)
    * post<T>(url: string, data?, config?)
    * put<T>(url: string, data?, config?)
    * delete<T>(url: string, config?)
    * patch<T>(url: string, data?, config?)
  - Manejo de errores tipado
  - TransformaciÃ³n de respuestas consistente

â–¡ Paso 3: Crear Facades especÃ­ficas por mÃ³dulo
  - api/facades/empleadoFacade.ts
    * getEmpleados()
    * getEmpleadoById(id)
    * createEmpleado(data)
    * updateEmpleado(id, data)
    * deleteEmpleado(id)
    * getEmpleadosByDepartamento(departamentoId)
    
  - api/facades/departamentoFacade.ts
    * getDepartamentos()
    * getDepartamentoById(id)
    * createDepartamento(data)
    * updateDepartamento(id, data)
    * deleteDepartamento(id)
    
  - api/facades/nominaFacade.ts
    * getNominasByEmpleado(empleadoId)
    * getNominaByPeriodo(empleadoId, periodo)
    * generarNomina(empleadoId, periodo)
    * generarNominaMasiva(periodo)
    * exportarNominaPDF(nominaId)
    * exportarNominaExcel(nominaId)
    
  - api/facades/novedadFacade.ts
    * getNovedades()
    * getNovedadesByEmpleado(empleadoId)
    * createNovedad(data)
    * updateNovedad(id, data)
    * deleteNovedad(id)
    
  - api/facades/provisionFacade.ts
    * getProvisionesByEmpleado(empleadoId)
    * getProvisionesConsolidadas()
    
  - api/facades/parametroFacade.ts
    * getParametros()
    * getParametrosByTipo(tipo)
    * createParametro(data)
    * updateParametro(id, data)
    
  - api/facades/workspaceFacade.ts
    * getWorkspaces()
    * getWorkspaceById(id)
    * createWorkspace(data)
    * updateWorkspace(id, data)
    
  - api/facades/personaFacade.ts
    * getPersonas()
    * getPersonaById(id)
    * createPersona(data)
    * updatePersona(id, data)
    
  - api/facades/bankingFacade.ts
    * getBankingByPersona(personaId)
    * createBanking(data)
    * updateBanking(id, data)
    * deleteBanking(id)

â–¡ Paso 4: Exportar todas las facades desde un Ã­ndice
  - api/index.ts
    * Exportar todas las facades
    * Facilitar imports: import { empleadoAPI, nominaAPI } from '@/api'

â–¡ Ventajas del PatrÃ³n Facade implementado:
  âœ“ SeparaciÃ³n de responsabilidades
  âœ“ CÃ³digo mÃ¡s limpio y mantenible
  âœ“ FÃ¡cil de testear (mock de facades)
  âœ“ CentralizaciÃ³n del manejo de errores
  âœ“ Consistencia en las llamadas HTTP
  âœ“ Facilita cambios futuros en la capa de comunicaciÃ³n
  âœ“ AbstracciÃ³n de la complejidad de Axios
  âœ“ Tipado fuerte con TypeScript

================================================================================
FASE 2: COMPONENTES BÃSICOS Y LAYOUT
================================================================================

2.1 Componentes Comunes (components/common)
--------------------------------------------
â–¡ Button.vue
  - Variantes: primary, secondary, danger, success
  - TamaÃ±os: sm, md, lg
  - Estados: loading, disabled

â–¡ Input.vue
  - Input de texto, nÃºmero, fecha, select
  - ValidaciÃ³n y mensajes de error
  - Icono opcional

â–¡ Card.vue
  - Contenedor con tÃ­tulo, subtÃ­tulo y acciones
  - Variantes para diferentes usos

â–¡ Table.vue
  - Tabla reutilizable con paginaciÃ³n
  - Ordenamiento por columnas
  - Acciones por fila
  - SelecciÃ³n mÃºltiple

â–¡ Modal.vue
  - Modal genÃ©rico
  - ConfirmaciÃ³n de acciones
  - Formularios

â–¡ Badge.vue
  - Indicadores de estado
  - Variantes de color

â–¡ LoadingSpinner.vue
  - Indicador de carga

â–¡ Alert.vue
  - Mensajes de Ã©xito, error, warning, info

2.2 Layout Principal (components/layout)
-----------------------------------------
â–¡ MainLayout.vue
  - Estructura general de la aplicaciÃ³n
  - Sidebar + Contenido principal

â–¡ Navbar.vue
  - Barra superior
  - Logo, breadcrumbs
  - Usuario y menÃº de perfil
  - Notificaciones (futuro)

â–¡ Sidebar.vue
  - MenÃº de navegaciÃ³n lateral
  - Collapsible
  - Items del menÃº:
    * Dashboard
    * Empleados
    * Departamentos
    * NÃ³minas
    * Novedades
    * Provisiones
    * ParÃ¡metros
    * Workspaces
    * Reportes

â–¡ Breadcrumbs.vue
  - NavegaciÃ³n de rutas

================================================================================
FASE 3: DESARROLLO DEL DASHBOARD
================================================================================

3.1 Vista Principal del Dashboard (views/Dashboard.vue)
--------------------------------------------------------
â–¡ Resumen General - Tarjetas estadÃ­sticas (KPIs):
  â”œâ”€â”€ Total de Empleados Activos
  â”œâ”€â”€ NÃ³minas Procesadas del Mes
  â”œâ”€â”€ Total en NÃ³mina del Mes Actual
  â”œâ”€â”€ Provisiones Acumuladas
  â””â”€â”€ Novedades Pendientes

â–¡ GrÃ¡ficos y Visualizaciones:
  â”œâ”€â”€ GrÃ¡fico de lÃ­neas: EvoluciÃ³n de nÃ³mina (Ãºltimos 6 meses)
  â”œâ”€â”€ GrÃ¡fico de barras: NÃ³mina por departamento
  â”œâ”€â”€ GrÃ¡fico de pie: DistribuciÃ³n de egresos vs ingresos
  â””â”€â”€ GrÃ¡fico de barras: Provisiones acumuladas por tipo

â–¡ Tabla de Ãšltimas Actividades:
  â”œâ”€â”€ Ãšltimas nÃ³minas generadas
  â”œâ”€â”€ Ãšltimas novedades registradas
  â””â”€â”€ Link a ver mÃ¡s detalles

â–¡ Accesos RÃ¡pidos:
  â”œâ”€â”€ Generar nueva nÃ³mina
  â”œâ”€â”€ Registrar novedad
  â”œâ”€â”€ Ver reportes
  â””â”€â”€ Agregar empleado

3.2 Store de Dashboard (stores/dashboardStore.ts)
--------------------------------------------------
â–¡ Estados:
  - stats (estadÃ­sticas generales)
  - chartData (datos para grÃ¡ficos)
  - recentActivities (actividades recientes)
  - loading
  - error

â–¡ Acciones:
  - fetchDashboardStats()
  - fetchChartData()
  - fetchRecentActivities()

3.3 Servicio API de Dashboard (services/dashboardService.ts)
-------------------------------------------------------------
â–¡ MÃ©todos:
  - getStats() - Obtiene estadÃ­sticas generales
  - getNominasByPeriod(months: number) - Datos para grÃ¡ficos
  - getRecentActivities(limit: number)

3.4 Componentes del Dashboard (components/dashboard)
-----------------------------------------------------
â–¡ StatCard.vue
  - Tarjeta de estadÃ­stica
  - Icono, valor, tÃ­tulo, cambio porcentual

â–¡ LineChart.vue
  - GrÃ¡fico de lÃ­neas (usar librerÃ­a como Chart.js o ApexCharts)

â–¡ BarChart.vue
  - GrÃ¡fico de barras

â–¡ PieChart.vue
  - GrÃ¡fico circular

â–¡ ActivityList.vue
  - Lista de actividades recientes

â–¡ QuickActions.vue
  - Botones de acceso rÃ¡pido

================================================================================
FASE 4: MÃ“DULO DE EMPLEADOS
================================================================================

4.1 Vistas de Empleados
------------------------
â–¡ EmpleadosList.vue
  - Lista/tabla de todos los empleados
  - BÃºsqueda y filtros (por departamento, estado, etc.)
  - PaginaciÃ³n
  - Acciones: Ver, Editar, Eliminar, Agregar

â–¡ EmpleadoDetail.vue
  - InformaciÃ³n detallada del empleado
  - Tabs:
    * InformaciÃ³n Personal
    * InformaciÃ³n Laboral
    * Cuentas Bancarias
    * NÃ³minas HistÃ³ricas
    * Novedades
    * Provisiones

â–¡ EmpleadoForm.vue
  - Formulario para crear/editar empleado
  - Validaciones
  - Secciones:
    * Datos de Persona
    * Datos Laborales
    * ConfiguraciÃ³n de Beneficios

4.2 Reglas de Negocio y Variables del Backend
----------------------------------------------
ğŸ“Œ IMPORTANTE: Al llamar a las APIs de Empleado, considerar:

â–¡ VARIABLES AUTOMÃTICAS (generadas por el backend):
  âœ“ ID_Empleado        - GUID generado automÃ¡ticamente en CREATE
  âœ“ PK                 - Construido como "EMP#{ID_Empleado}"
  âœ“ SK                 - Siempre "META#EMP"
  âœ“ DateCreated        - Fecha actual en formato ISO (YYYY-MM-DD)

â–¡ VARIABLES REQUERIDAS (el usuario DEBE proporcionar):
  âš  ID_Persona         - Referencia a persona existente (validada)
  âš  ID_Departamento    - Referencia a departamento existente (validada)
  âš  FechaIngreso       - DateTime de ingreso del empleado
  âš  SalarioBase        - Decimal, debe ser mayor a 0
  âš  Is_DecimoTercMensual   - Boolean (true = mensualizado, false = acumulado)
  âš  Is_DecimoCuartoMensual - Boolean (true = mensualizado, false = acumulado)
  âš  Is_FondoReserva    - Boolean (solo aplica si empleado > 1 aÃ±o)
  âš  StatusLaboral      - Enum (Active, Inactive, OnLeave, Retired)

â–¡ VALIDACIONES DEL BACKEND:
  âœ“ Persona debe existir antes de crear empleado
  âœ“ Departamento debe existir antes de crear empleado
  âœ“ SalarioBase debe ser > 0
  âœ“ FondoReserva solo se activa si FechaIngreso > 1 aÃ±o
    - Si empleado < 1 aÃ±o, Is_FondoReserva se fuerza a FALSE
  âœ“ En UPDATE: DateCreated se preserva del registro original

â–¡ COMPORTAMIENTO DE CREATE (POST /api/empleado):
  1. Usuario envÃ­a: ID_Persona, ID_Departamento, FechaIngreso, SalarioBase,
                    Is_DecimoTercMensual, Is_DecimoCuartoMensual,
                    Is_FondoReserva, StatusLaboral
  2. Backend genera automÃ¡ticamente: ID_Empleado, PK, SK, DateCreated
  3. Backend valida existencia de Persona y Departamento
  4. Backend ajusta Is_FondoReserva segÃºn antigÃ¼edad
  5. Backend retorna empleado completo con ID generado

â–¡ COMPORTAMIENTO DE UPDATE (PUT /api/empleado/{id}):
  1. Usuario envÃ­a todos los campos (excepto ID_Empleado que va en URL)
  2. Backend valida existencia del empleado
  3. Backend sobreescribe ID_Empleado con el de la URL
  4. Backend reconstruye PK y SK correctamente
  5. Backend preserva DateCreated original
  6. Backend valida Persona y Departamento
  7. Backend ajusta Is_FondoReserva segÃºn antigÃ¼edad

â–¡ NOTAS PARA EL FRONTEND:
  âš  No enviar ID_Empleado, PK, SK, DateCreated en CREATE
  âš  En formularios de ediciÃ³n, no permitir modificar ID_Empleado
  âš  Validar selecciÃ³n de Persona existente (dropdown/autocomplete)
  âš  Validar selecciÃ³n de Departamento existente (dropdown)
  âš  Calcular automÃ¡ticamente si empleado puede tener FondoReserva
    (mostrar advertencia si < 1 aÃ±o de antigÃ¼edad)
  âš  SalarioBase debe tener validaciÃ³n numÃ©rica > 0
  âš  Formato de fecha: ISO 8601 para envÃ­o al backend

5.3 Store de Empleados (stores/empleadoStore.ts)
-------------------------------------------------
â–¡ Estados:
  - empleados (lista)
  - selectedEmpleado (empleado actual)
  - loading
  - error
  - pagination

â–¡ Acciones:
  - fetchEmpleados()
  - fetchEmpleadoById(id)
  - createEmpleado(empleado)     - NO incluir ID_Empleado, PK, SK, DateCreated
  - updateEmpleado(id, empleado) - Incluir todos excepto DateCreated
  - deleteEmpleado(id)
  - fetchEmpleadosByDepartamento(departamentoId)

5.4 Facade de Empleados (api/facades/empleadoFacade.ts)
--------------------------------------------------------
â–¡ MÃ©todos a implementar:
  - getEmpleados()
    * GET /api/empleado
    * Retorna: Empleado[]
    
  - getEmpleadoById(id: string)
    * GET /api/empleado/{id}
    * Retorna: Empleado | null
    
  - createEmpleado(data: CreateEmpleadoDTO)
    * POST /api/empleado
    * Body: { ID_Persona, ID_Departamento, FechaIngreso, SalarioBase,
             Is_DecimoTercMensual, Is_DecimoCuartoMensual, 
             Is_FondoReserva, StatusLaboral }
    * NO incluir: ID_Empleado, PK, SK, DateCreated
    * Retorna: Empleado (con ID generado)
    
  - updateEmpleado(id: string, data: UpdateEmpleadoDTO)
    * PUT /api/empleado/{id}
    * Body: { ID_Persona, ID_Departamento, FechaIngreso, SalarioBase,
             Is_DecimoTercMensual, Is_DecimoCuartoMensual, 
             Is_FondoReserva, StatusLaboral }
    * NO incluir: ID_Empleado (va en URL), DateCreated (preservado)
    * Retorna: Empleado actualizado
    
  - deleteEmpleado(id: string)
    * DELETE /api/empleado/{id}
    * Retorna: { message: string }

â–¡ DTOs a crear (types/empleado.types.ts):
  - Empleado (modelo completo del backend)
  - CreateEmpleadoDTO (sin campos automÃ¡ticos)
  - UpdateEmpleadoDTO (sin campos automÃ¡ticos)
  - StatusLaboral (enum: Active, Inactive, OnLeave, Retired)

================================================================================
FASE 5: MÃ“DULO DE DEPARTAMENTOS
================================================================================

5.1 Vistas de Departamentos
----------------------------
â–¡ DepartamentosList.vue
  - Lista de departamentos
  - BÃºsqueda
  - Acciones CRUD

â–¡ DepartamentoForm.vue
  - Formulario crear/editar

5.2 Reglas de Negocio y Variables del Backend
----------------------------------------------
ğŸ“Œ IMPORTANTE: Al llamar a las APIs de Departamento, considerar:

â–¡ VARIABLES AUTOMÃTICAS (generadas por el backend):
  âœ“ ID_Departamento    - GUID generado automÃ¡ticamente en CREATE
  âœ“ PK                 - Construido como "DEP#{ID_Departamento}"
  âœ“ SK                 - Siempre "META#DEP"
  âœ“ DateCreated        - Fecha actual en formato ISO (YYYY-MM-DD)

â–¡ VARIABLES REQUERIDAS (el usuario DEBE proporcionar):
  âš  Nombre             - Nombre del departamento (string, no vacÃ­o)
  âš  Ubicacion          - UbicaciÃ³n fÃ­sica (string, puede ser vacÃ­o)
  âš  Email              - Email del departamento (string)
  âš  Telefono           - TelÃ©fono de contacto (string)
  âš  Cargo              - Cargo del jefe del departamento (string)
  âš  CentroCosto        - CÃ³digo de centro de costo (string)

â–¡ VALIDACIONES DEL BACKEND:
  âœ“ Nombre no puede estar vacÃ­o
  âœ“ En UPDATE: DateCreated se preserva del registro original

â–¡ COMPORTAMIENTO DE CREATE (POST /api/departamento):
  1. Usuario envÃ­a: Nombre, Ubicacion, Email, Telefono, Cargo, CentroCosto
  2. Backend genera: ID_Departamento, PK, SK, DateCreated
  3. Backend retorna departamento completo con ID generado

â–¡ COMPORTAMIENTO DE UPDATE (PUT /api/departamento/{id}):
  1. Usuario envÃ­a todos los campos (excepto ID_Departamento que va en URL)
  2. Backend preserva DateCreated original
  3. Backend reconstruye PK y SK correctamente

â–¡ NOTAS PARA EL FRONTEND:
  âš  No enviar ID_Departamento, PK, SK, DateCreated en CREATE
  âš  Validar que Nombre no estÃ© vacÃ­o

5.3 Store y Facade
------------------
â–¡ departamentoStore.ts
  - Estados: departamentos, selectedDepartamento, loading, error
  - Acciones: fetchDepartamentos, fetchById, create, update, delete

â–¡ api/facades/departamentoFacade.ts
  - getDepartamentos()        -> GET /api/departamento
  - getDepartamentoById(id)   -> GET /api/departamento/{id}
  - createDepartamento(data)  -> POST /api/departamento
  - updateDepartamento(id, data) -> PUT /api/departamento/{id}
  - deleteDepartamento(id)    -> DELETE /api/departamento/{id}

================================================================================
FASE 6: MÃ“DULO DE NÃ“MINAS
================================================================================

6.1 Vistas de NÃ³minas
----------------------
â–¡ NominasList.vue
  - Lista de nÃ³minas generadas
  - Filtros: por perÃ­odo, empleado, departamento
  - Vista de resumen

â–¡ NominaDetail.vue
  - Detalle completo de una nÃ³mina
  - Secciones:
    * InformaciÃ³n del Empleado
    * Ingresos (desglose detallado)
    * Egresos (desglose detallado)
    * Provisiones
    * Total Neto a Pagar
  - Acciones:
    * Exportar PDF
    * Exportar Excel
    * Reimprimir

â–¡ NominaGenerate.vue
  - Formulario para generar nueva nÃ³mina
  - SelecciÃ³n de empleado(s)
  - SelecciÃ³n de perÃ­odo
  - PrevisualizaciÃ³n antes de generar
  - GeneraciÃ³n individual o masiva

â–¡ NominaCompare.vue
  - Comparar nÃ³minas de diferentes perÃ­odos
  - VisualizaciÃ³n de diferencias

7.2 Reglas de Negocio y Variables del Backend
----------------------------------------------
ğŸ“Œ IMPORTANTE: Al llamar a las APIs de NÃ³mina, considerar:

â–¡ VARIABLES AUTOMÃTICAS (generadas por el backend):
  âœ“ ID_Nomina          - GUID generado automÃ¡ticamente en CREATE
  âœ“ PK                 - Construido como "EMP#{ID_Empleado}"
  âœ“ SK                 - Construido como "NOM#{Periodo}" (ej: "NOM#2025-11")
  âœ“ FechaCalculo       - Fecha actual ISO cuando se genera
  âœ“ Todos los cÃ¡lculos:
    - TotalIngresosGravados
    - TotalIngresosNoGravados
    - TotalIngresos
    - TotalEgresos
    - IESS_AportePersonal (9.45% de ingresos gravados)
    - IR_Retenido (segÃºn tabla de impuesto a la renta)
    - NetoAPagar (total ingresos - total egresos)

â–¡ VARIABLES REQUERIDAS (el usuario DEBE proporcionar):
  âš  ID_Empleado        - Referencia al empleado (validado)
  âš  Periodo            - Formato "YYYY-MM" (ej: "2025-11")

â–¡ ENDPOINTS PRINCIPALES:

  - GENERAR NÃ“MINA INDIVIDUAL:
    * POST /api/nomina/generar
    * Body: { EmpleadoId: string, Periodo: string }
    * El backend calcula automÃ¡ticamente todos los valores
    * Considera novedades del perÃ­odo
    * Aplica estrategias de cÃ¡lculo (ingresos, egresos, provisiones)
    
  - GENERAR NÃ“MINA MASIVA:
    * POST /api/nomina/generar-masiva
    * Body: { Periodo: string }
    * Genera nÃ³mina para TODOS los empleados activos
    * Retorna resumen de nÃ³minas generadas
    
  - CONSULTAR NÃ“MINA:
    * GET /api/nomina/empleado/{empleadoId}
    * Retorna todas las nÃ³minas del empleado
    
  - CONSULTAR NÃ“MINA POR PERÃODO:
    * GET /api/nomina/empleado/{empleadoId}/periodo/{periodo}
    * Retorna nÃ³mina especÃ­fica de un perÃ­odo
    
  - EXPORTAR NÃ“MINA:
    * GET /api/nomina/empleado/{empleadoId}/periodo/{periodo}/pdf
    * GET /api/nomina/empleado/{empleadoId}/periodo/{periodo}/excel
    * Genera archivos descargables

â–¡ VALIDACIONES DEL BACKEND:
  âœ“ Empleado debe existir y estar activo
  âœ“ No se puede generar nÃ³mina duplicada (mismo empleado + perÃ­odo)
  âœ“ PerÃ­odo debe tener formato vÃ¡lido YYYY-MM
  âœ“ Novedades se filtran automÃ¡ticamente por perÃ­odo

â–¡ NOTAS PARA EL FRONTEND:
  âš  No enviar campos calculados (totales, aportes, neto)
  âš  Solo enviar EmpleadoId y Periodo
  âš  Mostrar preview antes de generar nÃ³mina masiva
  âš  Validar formato de perÃ­odo (YYYY-MM)
  âš  Verificar si ya existe nÃ³mina antes de generar
  âš  Deshabilitar ediciÃ³n de nÃ³mina cerrada (IsCerrada = true)

7.3 Proceso de CÃ¡lculo de NÃ³mina - Reglas de Negocio del Backend
-----------------------------------------------------------------
ğŸ“Œ IMPORTANTE: Entender el flujo completo de cÃ¡lculo para mostrar correctamente en el frontend

â–¡ FLUJO COMPLETO DE GENERACIÃ“N DE NÃ“MINA (Backend):

  ========== PASO 1: VALIDACIÃ“N INICIAL ==========
  1. Validar que el periodo estÃ© ABIERTO (Workspace.Estado = 0)
  2. Validar que el empleado exista
  3. Si ya existe nÃ³mina para ese empleado+periodo â†’ Error

  ========== PASO 2: CARGAR DATOS ==========
  4. Cargar informaciÃ³n del empleado
  5. Cargar todas las novedades del periodo
  6. Cargar todos los parÃ¡metros del sistema

  ========== PASO 3: CÃLCULO DE INGRESOS ==========
  7. Inicializar con Salario Base como INGRESO GRAVABLE
  
  8. Procesar NOVEDADES de tipo INGRESO (primero):
     - Horas Extras 50%: ((SalarioBase/30/8) * 1.5) * NRO_H50
     - Horas Extras 100%: ((SalarioBase/30/8) * 2.0) * NRO_H100
     - Variables: Monto fijo definido en novedad
     - Comisiones: Monto fijo definido en novedad
     - Cada novedad se clasifica como GRAVABLE o NO GRAVABLE
     - TOTAL INGRESOS GRAVADOS IESS = SalarioBase + Sum(Novedades Gravables)
  
  9. Calcular DÃ‰CIMOS MENSUALIZADOS (si aplica):
     âœ“ DÃ©cimo Tercero Mensual: (TotalIngresosGravados / 12) â†’ NO GRAVABLE
     âœ“ DÃ©cimo Cuarto Mensual: (470 / 12) = 39.17 â†’ NO GRAVABLE
     âœ“ Fondos de Reserva Mensual: (TotalIngresosGravados * 8.33%) â†’ NO GRAVABLE
     
     IMPORTANTE: Los dÃ©cimos son INGRESOS NO GRAVABLES
  
  10. TRANSFERIR PROVISIONES ACUMULADAS (en mes correspondiente):
      - DÃ©cimo Tercero Acumulado â†’ Se transfiere en NOVIEMBRE (mes 11)
      - DÃ©cimo Cuarto Acumulado â†’ Se transfiere en JULIO (mes 7)
      - Solo si NO son mensualizados
      - Transferencia = Llevar acumulado a INGRESOS NO GRAVABLES
      - Marcar provisiÃ³n como "IsTransferred = true"
  
  11. Totales de Ingresos:
      - TotalIngresosGravados (base para IESS e IR)
      - TotalIngresosNoGravados (dÃ©cimos, transporte, etc.)
      - TotalIngresos = Gravados + NoGravados

  ========== PASO 4: CÃLCULO DE EGRESOS ==========
  12. Procesar NOVEDADES de tipo EGRESO:
      - IESS Personal: TotalIngresosGravados * 9.45%
      - IESS ExtensiÃ³n CÃ³nyuge: SalarioBase * 3.41% (si aplica)
      - Impuesto a la Renta: SegÃºn tabla progresiva (manual por ahora)
      - Descuentos varios: Valores fijos de novedades
        * Comisariato, Catering, Gimnasio
        * PrÃ©stamos, Anticipos
        * Faltas injustificadas
        * PensiÃ³n alimenticia
        * Otros descuentos
  
  13. Totales de Egresos:
      - TotalEgresos = Sum(todos los egresos)
      - IESS_AportePersonal (se guarda separado)
      - IR_Retenido (se guarda separado)

  ========== PASO 5: CÃLCULO DE PROVISIONES ==========
  14. Generar provisiones mensuales (acumuladas):
      
      Para cada tipo de provisiÃ³n:
      a) Cargar provisiÃ³n del mes anterior
      b) Si la provisiÃ³n anterior fue transferida â†’ Reiniciar acumulado a 0
      c) Calcular nuevo valor mensual segÃºn estrategia:
         
         - PROVISION_VACACIONES: TotalIngresosGravados / 24
           * Se acumula mensualmente
           * Se usa cuando el empleado toma vacaciones
         
         - IESS_PATRONAL: TotalIngresosGravados * 12.15%
           * ObligaciÃ³n patronal mensual
         
         - FONDOS_RESERVA_ACUMULADO: 
           * Solo si empleado > 1 aÃ±o Y no es mensualizado
           * TotalIngresosGravados * 8.33%
           * Se acumula hasta transferir
         
         - DECIMO_TERCERO_ACUMULADO:
           * Solo si NO es mensualizado
           * TotalIngresosGravados / 12
           * Se acumula desde diciembre hasta noviembre
           * En noviembre se transfiere al rol
         
         - DECIMO_CUARTO_ACUMULADO:
           * Solo si NO es mensualizado
           * 470 / 12 = 39.17
           * Se acumula desde agosto hasta julio
           * En julio se transfiere al rol
      
      d) Acumulado = AcumuladoAnterior + ValorMensual
      e) Guardar nueva provisiÃ³n con estado "IsTransferred = false"

  ========== PASO 6: CÃLCULO FINAL ==========
  15. Neto a Pagar = TotalIngresos - TotalEgresos
  
  16. Guardar nÃ³mina con estado "IsCerrada = false"

â–¡ VISUALIZACIÃ“N EN EL FRONTEND:

  La vista de detalle de nÃ³mina debe mostrar:
  
  ğŸ“Š SECCIÃ“N 1: INFORMACIÃ“N DEL EMPLEADO
  - Nombre completo
  - Departamento
  - Cargo
  - Periodo
  - Fecha de cÃ¡lculo
  
  ğŸ“Š SECCIÃ“N 2: INGRESOS
  â”œâ”€â”€ INGRESOS GRAVABLES (afectan IESS e IR)
  â”‚   â”œâ”€â”€ Salario Base: $XXX.XX
  â”‚   â”œâ”€â”€ Horas Extras 50%: $XXX.XX (si aplica)
  â”‚   â”œâ”€â”€ Horas Extras 100%: $XXX.XX (si aplica)
  â”‚   â”œâ”€â”€ Variables: $XXX.XX (si aplica)
  â”‚   â”œâ”€â”€ Comisiones: $XXX.XX (si aplica)
  â”‚   â””â”€â”€ SUBTOTAL GRAVADOS: $XXX.XX
  â”‚
  â””â”€â”€ INGRESOS NO GRAVABLES (no afectan IESS ni IR)
      â”œâ”€â”€ DÃ©cimo Tercero Mensual: $XXX.XX (si mensualizado)
      â”œâ”€â”€ DÃ©cimo Cuarto Mensual: $XXX.XX (si mensualizado)
      â”œâ”€â”€ Fondos de Reserva Mensual: $XXX.XX (si aplica)
      â”œâ”€â”€ DÃ©cimo Tercero Acumulado: $XXX.XX (solo en noviembre)
      â”œâ”€â”€ DÃ©cimo Cuarto Acumulado: $XXX.XX (solo en julio)
      â”œâ”€â”€ Transporte: $XXX.XX (si aplica)
      â””â”€â”€ SUBTOTAL NO GRAVADOS: $XXX.XX
  
  TOTAL INGRESOS: $XXX.XX
  
  ğŸ“Š SECCIÃ“N 3: EGRESOS
  â”œâ”€â”€ Aportes Obligatorios
  â”‚   â”œâ”€â”€ IESS Personal (9.45%): $XXX.XX
  â”‚   â”œâ”€â”€ IESS ExtensiÃ³n (3.41%): $XXX.XX (si aplica)
  â”‚   â””â”€â”€ Impuesto a la Renta: $XXX.XX (si aplica)
  â”‚
  â””â”€â”€ Descuentos y Deducciones
      â”œâ”€â”€ Comisariato: $XXX.XX
      â”œâ”€â”€ Anticipos: $XXX.XX
      â”œâ”€â”€ PrÃ©stamos: $XXX.XX
      â”œâ”€â”€ Faltas: $XXX.XX
      â”œâ”€â”€ PensiÃ³n Alimenticia: $XXX.XX
      â””â”€â”€ Otros: $XXX.XX
  
  TOTAL EGRESOS: $XXX.XX
  
  ğŸ“Š SECCIÃ“N 4: PROVISIONES DEL MES
  â”œâ”€â”€ ProvisiÃ³n Vacaciones: $XXX.XX (acumulado: $XXX.XX)
  â”œâ”€â”€ IESS Patronal (12.15%): $XXX.XX
  â”œâ”€â”€ Fondos Reserva Acum.: $XXX.XX (acumulado: $XXX.XX)
  â”œâ”€â”€ DÃ©cimo 13Â° Acum.: $XXX.XX (acumulado: $XXX.XX)
  â””â”€â”€ DÃ©cimo 14Â° Acum.: $XXX.XX (acumulado: $XXX.XX)
  
  TOTAL PROVISIONES: $XXX.XX
  
  ğŸ“Š SECCIÃ“N 5: RESUMEN FINAL
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TOTAL INGRESOS:      $ XXX.XX      â”‚
  â”‚ TOTAL EGRESOS:      -$ XXX.XX      â”‚
  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
  â”‚ NETO A PAGAR:        $ XXX.XX      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â–¡ COLORES Y BADGES SUGERIDOS:
  - Ingresos Gravables: Verde oscuro ğŸŸ¢
  - Ingresos No Gravables: Verde claro ğŸŸ¢
  - Egresos Obligatorios: Naranja ğŸŸ 
  - Otros Descuentos: Rojo claro ğŸ”´
  - Provisiones: Azul ğŸ”µ
  - Neto a Pagar: Verde brillante (destacado) ğŸ’š

â–¡ VALIDACIONES IMPORTANTES EN EL FRONTEND:
  âš  Mostrar advertencia si empleado tiene < 1 aÃ±o (no puede tener Fondo Reserva)
  âš  Indicar visualmente si los dÃ©cimos son mensualizados o acumulados
  âš  Mostrar badge "TRANSFERIDO" en provisiones acumuladas cuando aplique
  âš  Indicar en quÃ© mes se transfieren las provisiones acumuladas
  âš  Deshabilitar generaciÃ³n si periodo no estÃ¡ abierto
  âš  Mostrar confirmaciÃ³n antes de generar nÃ³mina (acciÃ³n irreversible)
  âš  Validar que no exista nÃ³mina duplicada antes de generar

â–¡ ACCIONES DISPONIBLES EN VISTA DE NÃ“MINA:
  - ğŸ“„ Exportar PDF (con formato oficial)
  - ğŸ“Š Exportar Excel (para anÃ¡lisis)
  - ğŸ–¨ï¸ Imprimir
  - âœ‰ï¸ Enviar por email al empleado
  - ğŸ” Ver historial de nÃ³minas
  - ğŸ“ˆ Comparar con periodo anterior

7.5 Estrategias de CÃ¡lculo del Backend (PatrÃ³n Strategy)
--------------------------------------------------------
ğŸ“Œ IMPORTANTE: El backend usa el patrÃ³n Strategy para calcular cada tipo de ingreso, egreso y provisiÃ³n.

â–¡ ESTRATEGIAS DE INGRESOS:

  1. HorasExtras50Strategy
     - CÃ³digo: "HORAS_EXTRAS_50"
     - FÃ³rmula: ((SalarioBase / 30 / 8) * 1.5) * NumeroHoras
     - Gravable: SÃ
     - Uso: Novedades con horas extras al 50%
  
  2. HorasExtras100Strategy
     - CÃ³digo: "HORAS_EXTRAS_100"
     - FÃ³rmula: ((SalarioBase / 30 / 8) * 2.0) * NumeroHoras
     - Gravable: SÃ
     - Uso: Novedades con horas extras al 100%
  
  3. SimpleStrategy (Variables, Comisiones)
     - CÃ³digo: "SIMPLE"
     - FÃ³rmula: MontoAplicado (valor fijo de la novedad)
     - Gravable: SegÃºn configuraciÃ³n de novedad
     - Uso: Bonos, variables, comisiones
  
  4. DecimoTerceroStrategy (Mensualizado)
     - CÃ³digo: "DECIMO_TERCERO"
     - FÃ³rmula: TotalIngresosGravados / 12
     - Gravable: NO
     - Uso: Cuando Is_DecimoTercMensual = true
  
  5. DecimoCuartoStrategy (Mensualizado)
     - CÃ³digo: "DECIMO_CUARTO"
     - FÃ³rmula: 470 / 12 = 39.17
     - Gravable: NO
     - Uso: Cuando Is_DecimoCuartoMensual = true
  
  6. FondosReservaStrategy (Mensualizado)
     - CÃ³digo: "FONDOS_RESERVA"
     - FÃ³rmula: TotalIngresosGravados * 0.0833 (8.33%)
     - Gravable: NO
     - Uso: Cuando Is_FondoReserva = true

â–¡ ESTRATEGIAS DE EGRESOS:

  1. IessPersonalStrategy
     - CÃ³digo: "IESS_PERSONAL"
     - FÃ³rmula: TotalIngresosGravados * 0.0945 (9.45%)
     - Tipo: EGRESO
     - Obligatorio: SÃ
  
  2. IessExtensionStrategy (CÃ³nyuge)
     - CÃ³digo: "IESS_EXTENSION"
     - FÃ³rmula: SalarioBase * 0.0341 (3.41%)
     - Tipo: EGRESO
     - Obligatorio: Solo si tiene extensiÃ³n
  
  3. ImpuestoStrategy (Renta)
     - CÃ³digo: "IMPUESTO_RENTA"
     - FÃ³rmula: SegÃºn tabla progresiva del SRI
     - Tipo: EGRESO
     - Obligatorio: Si supera base imponible
  
  4. SimpleEgresoStrategy
     - CÃ³digo: "EGRESO"
     - FÃ³rmula: MontoAplicado (valor fijo de la novedad)
     - Tipo: EGRESO
     - Uso: Descuentos varios (comisariato, anticipos, prÃ©stamos, faltas, etc.)

â–¡ ESTRATEGIAS DE PROVISIONES:

  1. ProvisionVacacionesStrategy
     - CÃ³digo: "PROVISION_VACACIONES"
     - FÃ³rmula: TotalIngresosGravados / 24
     - Acumulado: SÃ
     - Uso: Se acumula mensualmente, se usa cuando empleado toma vacaciones
  
  2. IessPatronalStrategy
     - CÃ³digo: "IESS_PATRONAL"
     - FÃ³rmula: TotalIngresosGravados * 0.1215 (12.15%)
     - Acumulado: NO (es mensual)
     - Uso: ObligaciÃ³n patronal mensual
  
  3. DecimoTerceroAcumuladoStrategy
     - CÃ³digo: "DECIMO_TERCERO_ACUMULADO"
     - FÃ³rmula: TotalIngresosGravados / 12
     - Acumulado: SÃ
     - Periodo: Diciembre a Noviembre
     - Transferencia: En NOVIEMBRE (mes 11)
     - Uso: Cuando Is_DecimoTercMensual = false
  
  4. DecimoCuartoAcumuladoStrategy
     - CÃ³digo: "DECIMO_CUARTO_ACUMULADO"
     - FÃ³rmula: 470 / 12 = 39.17
     - Acumulado: SÃ
     - Periodo: Agosto a Julio
     - Transferencia: En JULIO (mes 7)
     - Uso: Cuando Is_DecimoCuartoMensual = false
  
  5. FondoReservaAcumuladoStrategy
     - CÃ³digo: "FONDOS_RESERVA_ACUMULADO"
     - FÃ³rmula: TotalIngresosGravados * 0.0833 (8.33%)
     - Acumulado: SÃ
     - CondiciÃ³n: Empleado > 1 aÃ±o Y Is_FondoReserva = false
     - Uso: Fondo de reserva acumulado hasta pago

â–¡ MAPEAMIENTO DE PARÃMETROS â†’ ESTRATEGIAS:

  El frontend debe conocer estos cÃ³digos para:
  - Crear novedades correctamente
  - Validar tipos de parÃ¡metros
  - Mostrar ayudas contextuales
  
  INGRESOS:
  - "HORAS_EXTRAS_50" â†’ HorasExtras50Strategy
  - "HORAS_EXTRAS_100" â†’ HorasExtras100Strategy
  - "SIMPLE" â†’ SimpleStrategy (variables, comisiones, bonos)
  - "DECIMO_TERCERO" â†’ DecimoTerceroStrategy
  - "DECIMO_CUARTO" â†’ DecimoCuartoStrategy
  - "FONDOS_RESERVA" â†’ FondosReservaStrategy
  
  EGRESOS:
  - "IESS_PERSONAL" â†’ IessPersonalStrategy
  - "IESS_EXTENSION" â†’ IessExtensionStrategy
  - "IMPUESTO_RENTA" â†’ ImpuestoStrategy
  - "EGRESO" â†’ SimpleEgresoStrategy (todos los demÃ¡s descuentos)
  
  PROVISIONES:
  - "PROVISION_VACACIONES" â†’ ProvisionVacacionesStrategy
  - "IESS_PATRONAL" â†’ IessPatronalStrategy
  - "DECIMO_TERCERO_ACUMULADO" â†’ DecimoTerceroAcumuladoStrategy
  - "DECIMO_CUARTO_ACUMULADO" â†’ DecimoCuartoAcumuladoStrategy
  - "FONDOS_RESERVA_ACUMULADO" â†’ FondoReservaAcumuladoStrategy

â–¡ NOTAS PARA EL FRONTEND - MÃ“DULO DE PARÃMETROS:

  Al crear/editar parÃ¡metros, el frontend debe:
  
  1. Validar TipoCalculo segÃºn TipoParametro:
     - Si TipoParametro = "INGRESO" â†’ TipoCalculo debe ser vÃ¡lido para ingresos
     - Si TipoParametro = "EGRESO" â†’ TipoCalculo debe ser vÃ¡lido para egresos
     - Si TipoParametro = "PROVISION" â†’ TipoCalculo debe ser vÃ¡lido para provisiones
  
  2. Mostrar campos segÃºn estrategia:
     - HorasExtras* â†’ Requiere nÃºmero de horas en novedad
     - SimpleStrategy â†’ Requiere monto fijo en novedad
     - IESS/IR â†’ CÃ¡lculo automÃ¡tico (no requiere input adicional)
  
  3. Ayudas contextuales:
     - Mostrar fÃ³rmula de cÃ¡lculo
     - Indicar si es gravable o no
     - Mostrar ejemplos de cÃ¡lculo

â–¡ NOTAS PARA EL FRONTEND - MÃ“DULO DE NOVEDADES:

  Al crear novedades, el frontend debe:
  
  1. Filtrar parÃ¡metros por TipoNovedad:
     - TipoNovedad = "INGRESO" â†’ Mostrar solo parÃ¡metros de tipo INGRESO
     - TipoNovedad = "EGRESO" â†’ Mostrar solo parÃ¡metros de tipo EGRESO
     - TipoNovedad = "PROVISION" â†’ Generalmente no se crean manualmente
  
  2. Campos dinÃ¡micos segÃºn parÃ¡metro seleccionado:
     - Si parÃ¡metro es "HORAS_EXTRAS_50" o "HORAS_EXTRAS_100":
       * Mostrar campo "NÃºmero de Horas" (numÃ©rico)
       * MontoAplicado = nÃºmero de horas ingresado
     
     - Si parÃ¡metro es "SIMPLE" (variables, bonos, etc.):
       * Mostrar campo "Monto" (decimal)
       * MontoAplicado = monto ingresado
     
     - Si parÃ¡metro es "EGRESO" (descuentos):
       * Mostrar campo "Monto a Descontar" (decimal)
       * MontoAplicado = monto a descontar
  
  3. Preview del cÃ¡lculo:
     - Mostrar preview del valor calculado antes de guardar
     - Ejemplo: "Horas Extras 100%: 10 horas Ã— $5.83 = $58.30"

7.6 Store de NÃ³minas (stores/nominaStore.ts)
---------------------------------------------
â–¡ Estados:
  - nominas (lista)
  - selectedNomina (nÃ³mina actual)
  - loading
  - error
  - generationProgress (para nÃ³mina masiva)
  - periodo (periodo seleccionado)

â–¡ Acciones:
  - fetchNominasByEmpleado(empleadoId)
  - fetchNominaByPeriodo(empleadoId, periodo)
  - fetchNominasByPeriodoGlobal(periodo)
  - generarNomina(empleadoId, periodo)
  - generarNominaMasiva(periodo)
  - deleteNomina(empleadoId, periodo)
  - exportarPDF(empleadoId, periodo)
  - exportarExcel(empleadoId, periodo)

â–¡ Getters:
  - nominasPorPeriodo (filtradas)
  - totalNominas (cantidad)
  - totalAPagar (suma de netos)

7.7 Facade de NÃ³minas (api/facades/nominaFacade.ts)
--------------------------------------------------------
â–¡ Implementar todos los endpoints del NominaController:
  - getNominasByEmpleado(empleadoId): Promise<Nomina[]>
  - getNominaByPeriodo(empleadoId, periodo): Promise<Nomina | null>
  - getNominasByPeriodoGlobal(periodo): Promise<Nomina[]>
  - generarNomina(empleadoId, periodo): Promise<Nomina>
  - generarNominaMasiva(periodo): Promise<GenerarMasivaResponse>
  - deleteNomina(empleadoId, periodo): Promise<void>
  - exportarPDF(empleadoId, periodo): Promise<Blob>
  - exportarExcel(empleadoId, periodo): Promise<Blob>

7.8 Ejemplos PrÃ¡cticos de CÃ¡lculo de NÃ³mina
--------------------------------------------
ğŸ“Œ Basados en datos reales del sistema (Example.txt)

â–¡ EJEMPLO 1: EMPLEADO CON DÃ‰CIMOS MENSUALIZADOS

  DATOS DEL EMPLEADO:
  - Nombre: LAVERDE VIQUE SOFIA CAROLINA
  - Fecha Ingreso: 2015-03-10 (10+ aÃ±os)
  - Salario Base: $700.00
  - Is_DecimoTercMensual: true
  - Is_DecimoCuartoMensual: true
  - Is_FondoReserva: false (no mensualizado)
  
  NOVEDADES DEL MES:
  - Horas Extras 50%: 5 horas
  - Horas Extras 100%: 6 horas
  - Variables: $91.10
  
  CÃLCULO PASO A PASO:
  
  1ï¸âƒ£ INGRESOS GRAVABLES:
     Salario Base:           $700.00
     Horas Extras 50%:        $21.88  (((700/30/8) * 1.5) * 5)
     Horas Extras 100%:       $35.00  (((700/30/8) * 2.0) * 6)
     Variables:               $91.10
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     TOTAL GRAVADOS IESS:    $847.98
  
  2ï¸âƒ£ INGRESOS NO GRAVABLES:
     DÃ©cimo 13Â° Mensual:      $70.66  (847.98 / 12)
     DÃ©cimo 14Â° Mensual:      $39.17  (470 / 12)
     Transporte:               $0.00
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     TOTAL NO GRAVADOS:      $109.83
  
     TOTAL INGRESOS:         $957.81
  
  3ï¸âƒ£ EGRESOS:
     IESS Personal (9.45%):   $80.13  (847.98 * 0.0945)
     Comisariato:             $25.50
     Falta Injustificada:     $19.30
     Anticipos:              $280.00
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     TOTAL EGRESOS:          $404.93
  
  4ï¸âƒ£ PROVISIONES MENSUALES:
     ProvisiÃ³n Vacaciones:    $35.33  (847.98 / 24)
     IESS Patronal (12.15%): $103.03  (847.98 * 0.1215)
     Fondos Reserva Acum.:    $70.64  (847.98 * 0.0833)
     DÃ©cimo 13Â° Acum.:         $0.00  (mensualizado)
     DÃ©cimo 14Â° Acum.:         $0.00  (mensualizado)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     TOTAL PROVISIONES:      $209.00
  
  5ï¸âƒ£ RESULTADO FINAL:
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ TOTAL INGRESOS:     $957.81    â”‚
     â”‚ TOTAL EGRESOS:     -$404.93    â”‚
     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
     â”‚ NETO A PAGAR:       $552.88    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â–¡ EJEMPLO 2: EMPLEADO CON DÃ‰CIMOS ACUMULADOS

  DATOS DEL EMPLEADO:
  - Nombre: RODRIGUEZ ORELLANA CATALINA FERNANDA
  - Fecha Ingreso: 2021-01-01 (4 aÃ±os)
  - Salario Base: $975.00
  - Is_DecimoTercMensual: false (acumulado)
  - Is_DecimoCuartoMensual: false (acumulado)
  - Is_FondoReserva: true (mensualizado porque > 1 aÃ±o)
  
  NOVEDADES DEL MES:
  - Horas Extras 50%: 2 horas
  - Horas Extras 100%: 10 horas
  
  CÃLCULO PASO A PASO:
  
  1ï¸âƒ£ INGRESOS GRAVABLES:
     Salario Base:           $975.00
     Horas Extras 50%:        $12.19  (((975/30/8) * 1.5) * 2)
     Horas Extras 100%:       $81.25  (((975/30/8) * 2.0) * 10)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     TOTAL GRAVADOS IESS:   $1,068.44
  
  2ï¸âƒ£ INGRESOS NO GRAVABLES:
     Fondos Reserva Mens.:    $89.00  (1068.44 * 0.0833)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     TOTAL NO GRAVADOS:       $89.00
  
     TOTAL INGRESOS:       $1,157.44
  
  3ï¸âƒ£ EGRESOS:
     IESS Personal (9.45%):  $100.97  (1068.44 * 0.0945)
     Comisariato:             $34.04
     Anticipos:               $74.98
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     TOTAL EGRESOS:          $209.99
  
  4ï¸âƒ£ PROVISIONES MENSUALES:
     ProvisiÃ³n Vacaciones:    $44.52  (1068.44 / 24)
     IESS Patronal (12.15%): $129.82  (1068.44 * 0.1215)
     DÃ©cimo 13Â° Acum.:        $89.04  (1068.44 / 12) â†’ Se acumula
     DÃ©cimo 14Â° Acum.:        $39.17  (470 / 12) â†’ Se acumula
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     TOTAL PROVISIONES:      $302.55
  
  5ï¸âƒ£ RESULTADO FINAL:
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ TOTAL INGRESOS:   $1,157.44    â”‚
     â”‚ TOTAL EGRESOS:     -$209.99    â”‚
     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
     â”‚ NETO A PAGAR:       $947.45    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  
  ğŸ“ NOTA: En este caso, los dÃ©cimos se acumulan mes a mes:
     - DÃ©cimo 13Â° se transferirÃ¡ al rol en NOVIEMBRE
     - DÃ©cimo 14Â° se transferirÃ¡ al rol en JULIO

â–¡ EJEMPLO 3: TRANSFERENCIA DE PROVISIONES ACUMULADAS

  ESCENARIO: Mes de NOVIEMBRE (mes 11)
  Empleado con dÃ©cimo tercero ACUMULADO
  
  PROVISIÃ“N ACUMULADA (Ene-Nov):
  - Enero:    $89.04
  - Febrero:  $89.04
  - Marzo:    $89.04
  - Abril:    $89.04
  - Mayo:     $89.04
  - Junio:    $89.04
  - Julio:    $89.04
  - Agosto:   $89.04
  - Sept.:    $89.04
  - Octubre:  $89.04
  - Noviembre: $89.04
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TOTAL ACUMULADO: $979.44
  
  En el ROL de NOVIEMBRE:
  - TOTAL INGRESOS GRAVADOS IESS: $1,068.44 (normal)
  - TOTAL INGRESOS NO GRAVADOS: $89.00 + $979.44 = $1,068.44
    * $89.00 â†’ Fondos de Reserva mensual
    * $979.44 â†’ âœ… DÃ‰CIMO TERCERO ACUMULADO TRANSFERIDO
  
  DespuÃ©s de transferir:
  - ProvisiÃ³n marcada como IsTransferred = true
  - Acumulado se reinicia en diciembre

â–¡ COMPONENTES DE UI SUGERIDOS PARA MOSTRAR CÃLCULOS:

  1. NominaCalculatorPreview.vue
     - Preview en tiempo real mientras se agregan novedades
     - Muestra cÃ³mo afectarÃ¡ cada novedad al cÃ¡lculo final
  
  2. NominaDetailBreakdown.vue
     - Desglose completo de la nÃ³mina calculada
     - Secciones colapsables para cada tipo de ingreso/egreso
     - Tooltips con explicaciÃ³n de cada fÃ³rmula
  
  3. ProvisionesTimeline.vue
     - LÃ­nea de tiempo mostrando acumulaciÃ³n de provisiones
     - Indicador visual de cuÃ¡ndo se transfieren
     - GrÃ¡fico de acumulado mes a mes
  
  4. ComparadorNominas.vue
     - Comparar nÃ³mina actual vs anterior
     - Resaltar diferencias
     - Explicar por quÃ© cambiÃ³ cada valor

â–¡ VALIDACIONES Y ALERTAS EN EL FRONTEND:

  âš ï¸ ANTES DE GENERAR NÃ“MINA:
  - "El periodo {periodo} no estÃ¡ abierto. No se puede generar nÃ³mina."
  - "Ya existe una nÃ³mina para este empleado en el periodo {periodo}."
  - "El empleado tiene menos de 1 aÃ±o. No aplica Fondo de Reserva."
  - "No hay novedades registradas para este periodo. Â¿Desea continuar?"
  
  â„¹ï¸ INFORMACIÃ“N CONTEXTUAL:
  - "Los dÃ©cimos estÃ¡n mensualizados. Se pagan cada mes."
  - "Los dÃ©cimos se acumulan. El 13Â° se pagarÃ¡ en noviembre."
  - "Este mes se transferirÃ¡ el dÃ©cimo tercero acumulado: ${monto}"
  - "ProvisiÃ³n de vacaciones acumulada: ${monto}. Disponible: {dÃ­as} dÃ­as."
  
  âœ… DESPUÃ‰S DE GENERAR:
  - "NÃ³mina generada exitosamente para {empleado} - {periodo}"
  - "Neto a pagar: ${netoAPagar}"
  - "Provisiones generadas: ${totalProvisiones}"

================================================================================
FASE 8: MÃ“DULO DE NOVEDADES
================================================================================

8.1 Vistas de Novedades
------------------------
â–¡ NovedadesList.vue
  - Lista de novedades
  - Filtros por empleado, tipo, perÃ­odo

â–¡ NovedadForm.vue
  - Formulario para registrar novedades
  - Tipos: Horas extras, bonos, descuentos, etc.
  - Validaciones segÃºn tipo

8.2 Reglas de Negocio y Variables del Backend
----------------------------------------------
ğŸ“Œ IMPORTANTE: Al llamar a las APIs de Novedad, considerar:

â–¡ VARIABLES AUTOMÃTICAS (generadas por el backend):
  âœ“ ID_Novedad         - GUID generado automÃ¡ticamente en CREATE
  âœ“ PK                 - Construido como "EMP#{ID_Empleado}"
  âœ“ SK                 - Construido como "NOV#{Periodo}#{ID_Novedad}"

â–¡ VARIABLES REQUERIDAS (el usuario DEBE proporcionar):
  âš  ID_Empleado        - Referencia al empleado (va en el PK)
  âš  ID_Parametro       - Referencia al parÃ¡metro que define el tipo de novedad
  âš  Periodo            - Formato "YYYY-MM" (ej: "2025-11")
  âš  TipoNovedad        - Tipo: "INGRESO", "EGRESO", o "PROVISION"
  âš  MontoAplicado      - Decimal, valor de la novedad
  âš  FechaIngresada     - Fecha en que se registra la novedad

â–¡ VARIABLES OPCIONALES:
  â—‹ Descripcion        - DescripciÃ³n adicional (string)
  â—‹ Is_Gravable        - Boolean (por defecto true)

â–¡ VALIDACIONES DEL BACKEND:
  âœ“ Empleado debe existir
  âœ“ ParÃ¡metro debe existir y coincidir con TipoNovedad
  âœ“ MontoAplicado debe ser > 0
  âœ“ TipoNovedad debe ser vÃ¡lido (INGRESO/EGRESO/PROVISION)
  âœ“ Periodo debe tener formato YYYY-MM

â–¡ NOTAS PARA EL FRONTEND:
  âš  No enviar ID_Novedad, PK, SK en CREATE
  âš  Validar que el parÃ¡metro seleccionado coincida con el tipo de novedad
  âš  Mostrar parÃ¡metros filtrados por TipoNovedad
  âš  MontoAplicado debe ser numÃ©rico positivo

8.3 Store y Facade
------------------
â–¡ novedadStore.ts
â–¡ api/facades/novedadFacade.ts

================================================================================
FASE 9: MÃ“DULO DE BANKING
================================================================================

9.1 Vistas de Banking
----------------------
â–¡ BankingList.vue (dentro de PersonaDetail)
  - Lista de cuentas bancarias de una persona
  - Acciones CRUD

â–¡ BankingForm.vue
  - Formulario para crear/editar cuenta bancaria

9.2 Reglas de Negocio y Variables del Backend
----------------------------------------------
ğŸ“Œ IMPORTANTE: Al llamar a las APIs de Banking, considerar:

â–¡ VARIABLES AUTOMÃTICAS (generadas por el backend):
  âœ“ ID_Banking         - GUID generado automÃ¡ticamente en CREATE
  âœ“ PK                 - Construido como "PERSONA#{ID_Persona}"
  âœ“ SK                 - Construido como "BANK#{ID_Banking}"
  âœ“ DateCreated        - DateTime de creaciÃ³n

â–¡ VARIABLES REQUERIDAS (el usuario DEBE proporcionar):
  âš  ID_Persona         - Referencia a la persona (va en PK)
  âš  BankName           - Nombre del banco
  âš  AccountNumber      - NÃºmero de cuenta
  âš  AccountType        - Tipo de cuenta (Ahorros, Corriente)
  âš  Pais               - PaÃ­s del banco

â–¡ VARIABLES OPCIONALES:
  â—‹ SWIFTCode          - CÃ³digo SWIFT (para transferencias internacionales)
  â—‹ Sucursal           - Sucursal del banco

â–¡ NOTAS PARA EL FRONTEND:
  âš  Una persona puede tener mÃºltiples cuentas bancarias
  âš  No enviar ID_Banking, PK, SK, DateCreated en CREATE
  âš  Validar formato de nÃºmero de cuenta segÃºn paÃ­s
  âš  IMPORTANTE: Banking se relaciona con PERSONA, no con EMPLEADO

9.3 Store y Facade
------------------
â–¡ bankingStore.ts
â–¡ api/facades/bankingFacade.ts

================================================================================
FASE 10: MÃ“DULO DE PROVISIONES
================================================================================

10.1 Vistas de Provisiones
---------------------------
â–¡ ProvisionesList.vue
  - Lista de provisiones acumuladas
  - Filtros y agrupaciones

â–¡ ProvisionDetail.vue
  - Detalle de provisiones por empleado

10.2 Reglas de Negocio y Variables del Backend
-----------------------------------------------
ğŸ“Œ IMPORTANTE: Las provisiones se generan AUTOMÃTICAMENTE durante el cÃ¡lculo de nÃ³mina

â–¡ VARIABLES AUTOMÃTICAS (generadas por el backend):
  âœ“ ID_Provision       - GUID generado automÃ¡ticamente
  âœ“ PK                 - Construido como "EMP#{ID_Empleado}"
  âœ“ SK                 - Construido como "PROV#{Periodo}#{TipoProvision}"
  âœ“ Todos los montos calculados segÃºn estrategias

â–¡ TIPOS DE PROVISIONES:
  - DECIMO_TERCERO     - 13Âº sueldo (si no es mensualizado)
  - DECIMO_CUARTO      - 14Âº sueldo (si no es mensualizado)
  - FONDO_RESERVA      - Fondos de reserva (si no es mensualizado)
  - VACACIONES         - ProvisiÃ³n de vacaciones

â–¡ NOTAS PARA EL FRONTEND:
  âš  Las provisiones NO se crean manualmente por el usuario
  âš  Solo se visualizan y consultan
  âš  Se generan automÃ¡ticamente al procesar la nÃ³mina
  âš  Ãštil para reportes de pasivos laborales

10.3 Store y Facade
-------------------
â–¡ provisionStore.ts (solo para consultas)
â–¡ api/facades/provisionFacade.ts

================================================================================
FASE 11: MÃ“DULO DE PARÃMETROS (CONFIGURACIÃ“N DEL SISTEMA)
================================================================================

11.1 Concepto y PropÃ³sito
--------------------------
ğŸ“Œ IMPORTANTE: Los ParÃ¡metros son la CONFIGURACIÃ“N del sistema de nÃ³minas.

â–¡ Â¿QUÃ‰ ES UN PARÃMETRO?
  - Define un tipo de ingreso, egreso o provisiÃ³n
  - Especifica cÃ³mo se calcula (estrategia de cÃ¡lculo)
  - Se usa como plantilla para crear novedades
  - Ejemplos:
    * HORAS_EXTRAS_100 â†’ Horas extras al 100%
    * IESS_PERSONAL â†’ IESS personal (9.45%)
    * COMISARIATO â†’ Descuento de comisariato
    * PRESTAMO_EMPLEADO â†’ Descuento por prÃ©stamo

â–¡ RELACIÃ“N CON OTROS MÃ“DULOS:
  - ParÃ¡metros â†’ Definen QUÃ‰ se puede calcular
  - Novedades â†’ Usan parÃ¡metros para registrar valores especÃ­ficos
  - Estrategias â†’ Determinan CÃ“MO se calcula cada parÃ¡metro

11.2 Vistas de ParÃ¡metros
--------------------------
â–¡ ParametrosList.vue
  - Lista de todos los parÃ¡metros del sistema
  - Agrupados por TIPO:
    * INGRESO (verde ğŸŸ¢)
    * EGRESO (rojo ğŸ”´)
    * PROVISION (azul ğŸ”µ)
  - Filtros:
    * Por tipo
    * Por tipo de cÃ¡lculo
  - BÃºsqueda por nombre
  - Acciones CRUD (solo admin)

â–¡ ParametroForm.vue
  - Formulario para crear/editar parÃ¡metros
  - Campos:
    * Nombre (texto, obligatorio)
    * Tipo (select: INGRESO/EGRESO/PROVISION)
    * TipoCalculo (select dinÃ¡mico segÃºn Tipo)
    * DescripciÃ³n (textarea, opcional)
  - Validaciones:
    * Nombre Ãºnico
    * TipoCalculo compatible con Tipo

â–¡ ParametroDetail.vue
  - InformaciÃ³n completa del parÃ¡metro
  - FÃ³rmula de cÃ¡lculo (explicaciÃ³n)
  - Estrategia asociada
  - Ejemplos de cÃ¡lculo
  - Novedades que usan este parÃ¡metro (lista)

11.3 Reglas de Negocio y Variables del Backend
-----------------------------------------------
ğŸ“Œ IMPORTANTE: Al llamar a las APIs de ParÃ¡metro, considerar:

â–¡ VARIABLES AUTOMÃTICAS (generadas por el backend):
  âœ“ ID_Parametro       - GUID generado automÃ¡ticamente
  âœ“ PK                 - Siempre "PARAM#GLOBAL"
  âœ“ SK                 - Construido como "PARAM#{ID_Parametro}"
  âœ“ DateCreated        - Fecha de creaciÃ³n (ISO)

â–¡ VARIABLES REQUERIDAS (el usuario DEBE proporcionar):
  âš  Nombre             - Nombre del parÃ¡metro (ej: "HORAS_EXTRAS_100")
  âš  Tipo               - Tipo: "INGRESO", "EGRESO", o "PROVISION"
  âš  TipoCalculo        - CÃ³digo de estrategia (ej: "HORAS_EXTRAS_100")

â–¡ VARIABLES OPCIONALES:
  â—‹ Descripcion        - DescripciÃ³n para administradores

â–¡ TIPOS DE PARÃMETRO:
  - INGRESO    â†’ Para ingresos (salarios, bonos, horas extras)
  - EGRESO     â†’ Para descuentos (IESS, prÃ©stamos, faltas)
  - PROVISION  â†’ Para provisiones (vacaciones, fondos)

â–¡ TIPOS DE CÃLCULO (TipoCalculo) - CATÃLOGO COMPLETO:

  ğŸ“Œ PARA INGRESOS (Tipo = "INGRESO"):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TipoCalculo            â”‚ DescripciÃ³n                      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ HORAS_EXTRAS_50        â”‚ Horas extras al 50%              â”‚
  â”‚ HORAS_EXTRAS_100       â”‚ Horas extras al 100%             â”‚
  â”‚ SIMPLE                 â”‚ Valor fijo (variables, bonos)    â”‚
  â”‚ DECIMO_TERCERO         â”‚ DÃ©cimo tercero mensualizado      â”‚
  â”‚ DECIMO_CUARTO          â”‚ DÃ©cimo cuarto mensualizado       â”‚
  â”‚ FONDOS_RESERVA         â”‚ Fondos de reserva mensualizado   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  
  ğŸ“Œ PARA EGRESOS (Tipo = "EGRESO"):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TipoCalculo            â”‚ DescripciÃ³n                      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ IESS_PERSONAL          â”‚ IESS personal (9.45%)            â”‚
  â”‚ IESS_EXTENSION         â”‚ IESS extensiÃ³n cÃ³nyuge (3.41%)   â”‚
  â”‚ IMPUESTO_RENTA         â”‚ Impuesto a la renta              â”‚
  â”‚ EGRESO                 â”‚ Descuento simple (valor fijo)    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  
  ğŸ“Œ PARA PROVISIONES (Tipo = "PROVISION"):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TipoCalculo                  â”‚ DescripciÃ³n                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ PROVISION_VACACIONES         â”‚ ProvisiÃ³n vacaciones       â”‚
  â”‚ IESS_PATRONAL                â”‚ IESS patronal (12.15%)     â”‚
  â”‚ DECIMO_TERCERO_ACUMULADO     â”‚ DÃ©cimo 13Â° acumulado       â”‚
  â”‚ DECIMO_CUARTO_ACUMULADO      â”‚ DÃ©cimo 14Â° acumulado       â”‚
  â”‚ FONDOS_RESERVA_ACUMULADO     â”‚ Fondos reserva acumulado   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â–¡ VALIDACIONES DEL BACKEND:
  âœ“ Nombre no puede estar vacÃ­o
  âœ“ Tipo debe ser vÃ¡lido (INGRESO/EGRESO/PROVISION)
  âœ“ TipoCalculo debe ser compatible con Tipo
  âœ“ TipoCalculo debe corresponder a una estrategia existente

â–¡ ENDPOINTS PRINCIPALES:

  - LISTAR TODOS:
    * GET /api/parametro
    * Retorna todos los parÃ¡metros del sistema
    
  - OBTENER POR ID:
    * GET /api/parametro/{id}
    * Retorna parÃ¡metro especÃ­fico
    
  - FILTRAR POR TIPO:
    * GET /api/parametro/tipo/{tipo}
    * Ejemplo: GET /api/parametro/tipo/INGRESO
    * Retorna solo parÃ¡metros de tipo INGRESO
    * Ãštil para filtrar al crear novedades
    
  - CREAR PARÃMETRO:
    * POST /api/parametro
    * Body: { Nombre, Tipo, TipoCalculo, Descripcion }
    
  - ACTUALIZAR PARÃMETRO:
    * PUT /api/parametro/{id}
    * Body: { Nombre, Tipo, TipoCalculo, Descripcion }
    
  - ELIMINAR PARÃMETRO:
    * DELETE /api/parametro/{id}
    * âš ï¸ No permitir eliminar si hay novedades que lo usan

â–¡ PARÃMETROS PRE-CONFIGURADOS (SISTEMA):

  El sistema viene con parÃ¡metros base que NO deben eliminarse:
  
  INGRESOS OBLIGATORIOS:
  - SALARIO_BASE (aunque no estÃ¡ en tabla, es automÃ¡tico)
  
  EGRESOS OBLIGATORIOS:
  - IESS_PERSONAL (TipoCalculo: "IESS_PERSONAL")
  - IMPUESTO_RENTA (TipoCalculo: "IMPUESTO_RENTA")
  
  PROVISIONES OBLIGATORIAS:
  - PROVISION_VACACIONES (TipoCalculo: "PROVISION_VACACIONES")
  - IESS_PATRONAL (TipoCalculo: "IESS_PATRONAL")

â–¡ NOTAS CRÃTICAS PARA EL FRONTEND:

  âš ï¸ VALIDACIÃ“N DE TipoCalculo:
  - Al seleccionar Tipo = "INGRESO", solo mostrar TipoCalculo vÃ¡lidos para ingresos
  - Al seleccionar Tipo = "EGRESO", solo mostrar TipoCalculo vÃ¡lidos para egresos
  - Al seleccionar Tipo = "PROVISION", solo mostrar TipoCalculo vÃ¡lidos para provisiones
  
  âš ï¸ AL CREAR NOVEDADES:
  - Filtrar parÃ¡metros por Tipo de novedad
  - Si novedad es INGRESO â†’ mostrar solo parÃ¡metros tipo INGRESO
  - Si novedad es EGRESO â†’ mostrar solo parÃ¡metros tipo EGRESO
  
  âš ï¸ CAMPOS DINÃMICOS EN NOVEDADES:
  - Si TipoCalculo = "HORAS_EXTRAS_50" o "HORAS_EXTRAS_100":
    * Mostrar campo "NÃºmero de Horas" (numÃ©rico)
  - Si TipoCalculo = "SIMPLE" o "EGRESO":
    * Mostrar campo "Monto" (decimal)
  - Si TipoCalculo automÃ¡tico (IESS_PERSONAL, etc.):
    * No requiere input (se calcula automÃ¡ticamente)
  
  âš ï¸ AYUDA CONTEXTUAL:
  - Mostrar fÃ³rmula de cÃ¡lculo segÃºn TipoCalculo seleccionado
  - Ejemplo:
    * HORAS_EXTRAS_100: "((SalarioBase/30/8) * 2.0) * NumeroHoras"
    * IESS_PERSONAL: "TotalIngresosGravados * 9.45%"

11.4 Mapeamiento Completo: ParÃ¡metro â†’ Estrategia â†’ Uso
--------------------------------------------------------
â–¡ TABLA DE REFERENCIA PARA DESARROLLADORES:

INGRESOS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nombre Sugerido     â”‚ TipoCalculo         â”‚ Estrategia       â”‚ Input Req. â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HORAS_EXTRAS_50     â”‚ HORAS_EXTRAS_50     â”‚ HE50Strategy     â”‚ # Horas    â”‚
â”‚ HORAS_EXTRAS_100    â”‚ HORAS_EXTRAS_100    â”‚ HE100Strategy    â”‚ # Horas    â”‚
â”‚ VARIABLES           â”‚ SIMPLE              â”‚ SimpleStrategy   â”‚ Monto      â”‚
â”‚ COMISIONES          â”‚ SIMPLE              â”‚ SimpleStrategy   â”‚ Monto      â”‚
â”‚ BONOS               â”‚ SIMPLE              â”‚ SimpleStrategy   â”‚ Monto      â”‚
â”‚ DECIMO_13_MENSUAL   â”‚ DECIMO_TERCERO      â”‚ D13Strategy      â”‚ Auto       â”‚
â”‚ DECIMO_14_MENSUAL   â”‚ DECIMO_CUARTO       â”‚ D14Strategy      â”‚ Auto       â”‚
â”‚ FONDOS_RESERVA_MENS â”‚ FONDOS_RESERVA      â”‚ FRStrategy       â”‚ Auto       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EGRESOS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nombre Sugerido     â”‚ TipoCalculo         â”‚ Estrategia       â”‚ Input Req. â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ IESS_PERSONAL       â”‚ IESS_PERSONAL       â”‚ IESSPersonal     â”‚ Auto       â”‚
â”‚ IESS_EXTENSION      â”‚ IESS_EXTENSION      â”‚ IESSExtension    â”‚ Auto       â”‚
â”‚ IMPUESTO_RENTA      â”‚ IMPUESTO_RENTA      â”‚ ImpuestoStrategy â”‚ Auto       â”‚
â”‚ COMISARIATO         â”‚ EGRESO              â”‚ SimpleEgreso     â”‚ Monto      â”‚
â”‚ ANTICIPOS           â”‚ EGRESO              â”‚ SimpleEgreso     â”‚ Monto      â”‚
â”‚ PRESTAMOS           â”‚ EGRESO              â”‚ SimpleEgreso     â”‚ Monto      â”‚
â”‚ FALTAS              â”‚ EGRESO              â”‚ SimpleEgreso     â”‚ Monto      â”‚
â”‚ PENSION_ALIMENT     â”‚ EGRESO              â”‚ SimpleEgreso     â”‚ Monto      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PROVISIONES (generadas automÃ¡ticamente, no se crean como novedades):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nombre              â”‚ TipoCalculo              â”‚ Estrategia           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PROVISION_VAC       â”‚ PROVISION_VACACIONES     â”‚ ProvisionVac         â”‚
â”‚ IESS_PATRONAL       â”‚ IESS_PATRONAL            â”‚ IESSPatronal         â”‚
â”‚ DECIMO_13_ACUM      â”‚ DECIMO_TERCERO_ACUMULADO â”‚ D13Acumulado         â”‚
â”‚ DECIMO_14_ACUM      â”‚ DECIMO_CUARTO_ACUMULADO  â”‚ D14Acumulado         â”‚
â”‚ FONDOS_RES_ACUM     â”‚ FONDOS_RESERVA_ACUMULADO â”‚ FRacumulado          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

11.5 Store de ParÃ¡metros (stores/parametroStore.ts)
----------------------------------------------------
â–¡ Estados:
  - parametros (lista completa)
  - selectedParametro (parÃ¡metro actual)
  - loading
  - error

â–¡ Acciones:
  - fetchParametros()
  - fetchParametroById(id)
  - fetchParametrosByTipo(tipo)  // Muy Ãºtil para filtros
  - createParametro(parametro)
  - updateParametro(id, parametro)
  - deleteParametro(id)

â–¡ Getters:
  - parametrosIngresos (filtrados por Tipo = "INGRESO")
  - parametrosEgresos (filtrados por Tipo = "EGRESO")
  - parametrosProvisiones (filtrados por Tipo = "PROVISION")
  - getParametroByNombre(nombre)

11.6 Facade de ParÃ¡metros (api/facades/parametroFacade.ts)
-----------------------------------------------------------
â–¡ MÃ©todos a implementar:
  - getParametros(): Promise<Parametro[]>
    * GET /api/parametro
    
  - getParametroById(id: string): Promise<Parametro | null>
    * GET /api/parametro/{id}
    
  - getParametrosByTipo(tipo: string): Promise<Parametro[]>
    * GET /api/parametro/tipo/{tipo}
    * tipo: "INGRESO" | "EGRESO" | "PROVISION"
    
  - createParametro(data: CreateParametroDTO): Promise<Parametro>
    * POST /api/parametro
    * Body: { Nombre, Tipo, TipoCalculo, Descripcion }
    
  - updateParametro(id: string, data: UpdateParametroDTO): Promise<Parametro>
    * PUT /api/parametro/{id}
    
  - deleteParametro(id: string): Promise<void>
    * DELETE /api/parametro/{id}

â–¡ DTOs a crear (types/parametro.types.ts):
  - Parametro (modelo completo)
  - CreateParametroDTO (sin campos auto)
  - UpdateParametroDTO (sin campos auto)
  - TipoParametro (enum: "INGRESO" | "EGRESO" | "PROVISION")
  - TipoCalculoIngreso (enum con todos los tipos de cÃ¡lculo para ingresos)
  - TipoCalculoEgreso (enum con todos los tipos de cÃ¡lculo para egresos)
  - TipoCalculoProvision (enum con todos los tipos de cÃ¡lculo para provisiones)

11.7 Componentes EspecÃ­ficos Sugeridos
---------------------------------------
â–¡ ParametroSelector.vue
  - Componente reutilizable para seleccionar parÃ¡metro
  - Props: tipo (para filtrar)
  - Usado en formulario de novedades
  
â–¡ ParametroCard.vue
  - Card para mostrar parÃ¡metro en lista
  - Muestra tipo, nombre, estrategia
  - Acciones rÃ¡pidas (editar, eliminar)

â–¡ TipoCalculoHelper.vue
  - Componente que muestra info de la estrategia
  - FÃ³rmula de cÃ¡lculo
  - Ejemplo con valores
  - Campos requeridos

11.8 Validaciones y Alertas EspecÃ­ficas
----------------------------------------
â–¡ CREAR/EDITAR PARÃMETRO:
  âœ… "ParÃ¡metro creado exitosamente"
  âŒ "El nombre del parÃ¡metro ya existe"
  âŒ "TipoCalculo '{tipo}' no es vÃ¡lido para Tipo '{tipo}'"
  âš ï¸ "Este parÃ¡metro no puede eliminarse (usado en novedades)"

â–¡ USAR EN NOVEDADES:
  â„¹ï¸ "Este parÃ¡metro requiere {campo}"
  â„¹ï¸ "FÃ³rmula: {formula}"
  â„¹ï¸ "Este valor se calcula automÃ¡ticamente"

11.9 Casos de Uso Especiales
-----------------------------
â–¡ CONFIGURACIÃ“N INICIAL DEL SISTEMA:
  - Crear parÃ¡metros base obligatorios
  - Script de inicializaciÃ³n con parÃ¡metros pre-configurados
  - DocumentaciÃ³n de parÃ¡metros estÃ¡ndar

â–¡ PERSONALIZACIÃ“N POR EMPRESA:
  - Permitir agregar parÃ¡metros custom con TipoCalculo = "SIMPLE" o "EGRESO"
  - Ejemplos: bonos especÃ­ficos, descuentos personalizados

â–¡ MANTENIMIENTO:
  - No permitir eliminar parÃ¡metros usados en novedades existentes
  - Permitir editar descripciÃ³n sin afectar cÃ¡lculos
  - Advertir si se cambia TipoCalculo (puede afectar cÃ¡lculos futuros)

================================================================================
FASE 12: MÃ“DULO DE WORKSPACES (GESTIÃ“N DE PERIODOS)
================================================================================

12.1 Concepto y PropÃ³sito
--------------------------
ğŸ“Œ IMPORTANTE: Los Workspaces controlan los PERIODOS de nÃ³mina del sistema.

â–¡ Â¿QUÃ‰ ES UN WORKSPACE?
  - Es un periodo de nÃ³mina (ejemplo: "2025-11", "2025-12")
  - Controla si el periodo estÃ¡ ABIERTO o CERRADO
  - Un periodo ABIERTO permite generar/modificar nÃ³minas
  - Un periodo CERRADO impide cualquier cambio (perÃ­odo finalizado)

â–¡ FLUJO DE TRABAJO:
  1. Al inicio del mes, se CREA un nuevo workspace (periodo abierto)
  2. Durante el mes, se generan nÃ³minas para ese periodo
  3. Al finalizar el mes, se CIERRA el workspace
  4. Una vez cerrado, NO se pueden generar ni modificar nÃ³minas
  5. Esto asegura la integridad de la informaciÃ³n histÃ³rica

12.2 Vistas de Workspaces
--------------------------
â–¡ WorkspacesList.vue
  - Lista de todos los periodos (meses)
  - Mostrar estado: ABIERTO (verde) o CERRADO (rojo)
  - Filtros: Por aÃ±o, por estado
  - Vista de calendario mensual (opcional)
  - Acciones:
    * Crear nuevo periodo
    * Cerrar periodo actual
    * Ver detalles del periodo

â–¡ WorkspaceDetail.vue
  - InformaciÃ³n del periodo:
    * Periodo (YYYY-MM)
    * Estado (Abierto/Cerrado)
    * Fecha de creaciÃ³n
    * Fecha de cierre (si aplica)
  - EstadÃ­sticas del periodo:
    * Total de nÃ³minas generadas
    * Total de empleados procesados
    * Monto total de nÃ³mina
    * Provisiones generadas
  - Lista de nÃ³minas del periodo
  - AcciÃ³n: Cerrar periodo (si estÃ¡ abierto)

â–¡ CrearPeriodoModal.vue
  - Formulario simple:
    * SelecciÃ³n de mes y aÃ±o
    * ValidaciÃ³n: No crear periodo duplicado
    * ConfirmaciÃ³n antes de crear

12.3 Reglas de Negocio y Variables del Backend
-----------------------------------------------
ğŸ“Œ IMPORTANTE: Al llamar a las APIs de Workspace, considerar:

â–¡ VARIABLES AUTOMÃTICAS (generadas por el backend):
  âœ“ ID_Workspace       - GUID generado automÃ¡ticamente
  âœ“ PK                 - Siempre "WORKSPACE#GLOBAL"
  âœ“ SK                 - Construido como "WORK#{Periodo}"
  âœ“ FechaCreacion      - DateTime de cuando se crea el periodo
  âœ“ Estado             - Inicialmente 0 (Abierto)

â–¡ VARIABLES REQUERIDAS (el usuario DEBE proporcionar):
  âš  Periodo            - Formato "YYYY-MM" (ej: "2025-11")

â–¡ ESTADOS DEL WORKSPACE:
  - 0 = ABIERTO   (se pueden generar nÃ³minas)
  - 1 = CERRADO   (periodo finalizado, no se puede modificar)

â–¡ VALIDACIONES DEL BACKEND:
  âœ“ Periodo debe tener formato vÃ¡lido YYYY-MM
  âœ“ No se puede crear periodo duplicado
  âœ“ No se puede cerrar un periodo que no existe
  âœ“ Al cerrar periodo: se valida que todas las nÃ³minas estÃ©n completas
  âœ“ Una vez cerrado, NO se puede reabrir

â–¡ ENDPOINTS PRINCIPALES:

  - LISTAR TODOS LOS PERIODOS:
    * GET /api/workspace
    * Retorna todos los workspaces (periodos)
    
  - OBTENER PERIODO ESPECÃFICO:
    * GET /api/workspace/{periodo}
    * Ejemplo: GET /api/workspace/2025-11
    * Retorna info del periodo o 404 si no existe
    
  - CREAR NUEVO PERIODO:
    * POST /api/workspace/{periodo}
    * Ejemplo: POST /api/workspace/2025-12
    * NO requiere body (solo el periodo en la URL)
    * Backend crea automÃ¡ticamente con Estado = 0 (Abierto)
    
  - CERRAR PERIODO:
    * POST /api/workspace/{periodo}/cerrar
    * Ejemplo: POST /api/workspace/2025-11/cerrar
    * Cambia Estado a 1 (Cerrado)
    * Registra FechaCierre
    * AcciÃ³n IRREVERSIBLE

â–¡ COMPORTAMIENTO DE CREATE (POST /api/workspace/{periodo}):
  1. Usuario envÃ­a solo el periodo en la URL
  2. Backend valida formato YYYY-MM
  3. Backend verifica que no exista periodo duplicado
  4. Backend genera: ID_Workspace, PK, SK, FechaCreacion
  5. Backend establece Estado = 0 (Abierto)
  6. Backend retorna workspace creado

â–¡ COMPORTAMIENTO DE CERRAR (POST /api/workspace/{periodo}/cerrar):
  1. Backend verifica que el periodo exista
  2. Backend verifica que estÃ© en Estado = 0 (Abierto)
  3. Backend cambia Estado a 1 (Cerrado)
  4. Backend registra FechaCierre con fecha actual
  5. Backend retorna workspace actualizado
  6. âš ï¸ IMPORTANTE: Esta acciÃ³n NO se puede deshacer

â–¡ REGLAS CRÃTICAS PARA EL FRONTEND:

  âš ï¸ ANTES DE GENERAR NÃ“MINA:
  - Verificar que el periodo estÃ© ABIERTO (Estado = 0)
  - Mostrar error si periodo estÃ¡ cerrado
  - No permitir crear novedades en periodo cerrado
  
  âš ï¸ ANTES DE CERRAR PERIODO:
  - Mostrar confirmaciÃ³n: "Â¿EstÃ¡ seguro? Esta acciÃ³n NO se puede deshacer"
  - Listar nÃ³minas pendientes (si hay empleados sin nÃ³mina)
  - Mostrar resumen del periodo antes de cerrar
  - Validar que el usuario tenga permisos
  
  âš ï¸ VISUALIZACIÃ“N:
  - Periodo ABIERTO: Badge verde con "ABIERTO"
  - Periodo CERRADO: Badge rojo con "CERRADO" + fecha de cierre
  - Deshabilitar botÃ³n "Cerrar" si ya estÃ¡ cerrado
  - Deshabilitar botÃ³n "Generar NÃ³mina" si periodo cerrado

â–¡ FLUJO DE USUARIO SUGERIDO:

  INICIO DE MES:
  1. Usuario accede a "GestiÃ³n de Periodos"
  2. Click en "Crear Nuevo Periodo"
  3. Selecciona mes y aÃ±o (ej: Diciembre 2025)
  4. Sistema valida y crea periodo con Estado ABIERTO
  5. Usuario puede generar nÃ³minas para ese periodo
  
  DURANTE EL MES:
  1. Usuario genera nÃ³minas
  2. Registra novedades
  3. Modifica/recalcula nÃ³minas si es necesario
  
  FIN DE MES:
  1. Usuario revisa que todas las nÃ³minas estÃ©n completas
  2. Click en "Cerrar Periodo"
  3. Sistema muestra resumen y confirmaciÃ³n
  4. Usuario confirma
  5. Sistema cierra periodo (Estado = 1)
  6. Ya no se puede modificar nada de ese periodo

12.4 Store de Workspaces (stores/workspaceStore.ts)
----------------------------------------------------
â–¡ Estados:
  - workspaces (lista de periodos)
  - currentWorkspace (periodo activo)
  - loading
  - error
  - periodoActual (periodo seleccionado)

â–¡ Acciones:
  - fetchWorkspaces()
  - fetchWorkspaceByPeriodo(periodo)
  - crearPeriodo(periodo)
  - cerrarPeriodo(periodo)
  - getPeriodoActivo() - obtiene el periodo abierto mÃ¡s reciente

â–¡ Getters:
  - periodosAbiertos (filtrados por Estado = 0)
  - periodosCerrados (filtrados por Estado = 1)
  - isPeriodoAbierto(periodo) - verifica si un periodo estÃ¡ abierto
  - ultimoPeriodo - obtiene el periodo mÃ¡s reciente

12.5 Facade de Workspaces (api/facades/workspaceFacade.ts)
-----------------------------------------------------------
â–¡ MÃ©todos a implementar:
  - getWorkspaces(): Promise<WorkspaceNomina[]>
    * GET /api/workspace
    * Retorna lista de todos los periodos
    
  - getWorkspaceByPeriodo(periodo: string): Promise<WorkspaceNomina | null>
    * GET /api/workspace/{periodo}
    * Retorna workspace o null
    
  - crearPeriodo(periodo: string): Promise<WorkspaceNomina>
    * POST /api/workspace/{periodo}
    * Crea nuevo periodo abierto
    
  - cerrarPeriodo(periodo: string): Promise<WorkspaceNomina>
    * POST /api/workspace/{periodo}/cerrar
    * Cierra el periodo (irreversible)

â–¡ DTOs a crear (types/workspace.types.ts):
  - WorkspaceNomina (modelo completo del backend)
  - EstadoWorkspace (enum: Abierto = 0, Cerrado = 1)
  - CrearPeriodoRequest (solo periodo)

12.6 Componentes EspecÃ­ficos Sugeridos
---------------------------------------
â–¡ PeriodoSelector.vue
  - Componente reutilizable para seleccionar periodo
  - Muestra solo periodos abiertos (para generar nÃ³minas)
  - O todos los periodos (para reportes)
  
â–¡ PeriodoStatusBadge.vue
  - Badge que muestra estado del periodo
  - Verde = Abierto, Rojo = Cerrado
  - Con tooltip informativo

â–¡ CalendarioPeriodos.vue
  - Vista de calendario anual
  - Cada mes muestra su estado
  - Click para ver detalles

â–¡ ResumenPeriodo.vue
  - Card con estadÃ­sticas del periodo
  - Total nÃ³minas, total pagado, etc.
  - Usado antes de cerrar periodo

12.7 Validaciones y Alertas EspecÃ­ficas
----------------------------------------
â–¡ CREAR PERIODO:
  âœ… "Periodo {periodo} creado exitosamente"
  âŒ "Ya existe un periodo para {periodo}"
  âŒ "Formato de periodo invÃ¡lido. Use YYYY-MM"

â–¡ CERRAR PERIODO:
  âš ï¸ "Â¿EstÃ¡ seguro de cerrar el periodo {periodo}?"
  âš ï¸ "Esta acciÃ³n NO se puede deshacer"
  âš ï¸ "Hay {N} empleados sin nÃ³mina en este periodo"
  âœ… "Periodo {periodo} cerrado exitosamente"
  âŒ "El periodo {periodo} ya estÃ¡ cerrado"
  âŒ "El periodo {periodo} no existe"

â–¡ GENERAR NÃ“MINA:
  âŒ "No se puede generar nÃ³mina. El periodo {periodo} estÃ¡ cerrado"
  â„¹ï¸ "Generando nÃ³mina para periodo abierto: {periodo}"

12.8 Casos de Uso Especiales
-----------------------------
â–¡ ESCENARIO 1: Inicio de operaciones
  - Crear periodos histÃ³ricos (si es necesario)
  - Cerrar periodos pasados
  - Abrir periodo actual

â–¡ ESCENARIO 2: CorrecciÃ³n de errores
  - Si se cerrÃ³ un periodo por error y hay que corregir:
    * NO se puede reabrir
    * SoluciÃ³n: Contactar administrador del sistema
    * Considerar implementar rol de "Super Admin" que pueda reabrir

â–¡ ESCENARIO 3: Periodo futuro
  - Se puede crear periodo del mes siguiente anticipadamente
  - Ãštil para planificaciÃ³n
  - Permite registrar novedades anticipadas

â–¡ INTEGRACIÃ“N CON OTROS MÃ“DULOS:
  - âœ“ NÃ³minas: Solo se pueden generar en periodos abiertos
  - âœ“ Novedades: Solo se pueden registrar en periodos abiertos
  - âœ“ Provisiones: Se generan automÃ¡ticamente al generar nÃ³mina
  - âœ“ Dashboard: Mostrar estadÃ­sticas del periodo activo

================================================================================
FASE 13: MÃ“DULO DE REPORTES
================================================================================

13.1 Vistas de Reportes
------------------------
â–¡ ReportesView.vue
  - Selector de tipo de reporte
  - Filtros y parÃ¡metros
  - PrevisualizaciÃ³n
  - ExportaciÃ³n (PDF, Excel)

â–¡ Tipos de reportes:
  â”œâ”€â”€ Reporte de NÃ³mina Mensual
  â”œâ”€â”€ Reporte de Provisiones
  â”œâ”€â”€ Reporte de Novedades
  â”œâ”€â”€ Reporte por Departamento
  â”œâ”€â”€ Reporte Anual de Empleado
  â””â”€â”€ Reporte Comparativo

================================================================================
FASE 14: AUTENTICACIÃ“N CON SUPABASE Y GESTIÃ“N DE ROLES
================================================================================

14.1 Concepto y Arquitectura de AutenticaciÃ³n
----------------------------------------------
ğŸ“Œ IMPORTANTE: Sistema completo de autenticaciÃ³n con Supabase

â–¡ STACK DE AUTENTICACIÃ“N:
  - Supabase Auth - GestiÃ³n de usuarios y sesiones
  - Row Level Security (RLS) - Seguridad a nivel de base de datos
  - JWT Tokens - AutenticaciÃ³n stateless
  - Roles y Permisos - Control de acceso granular

â–¡ FLUJO DE AUTENTICACIÃ“N:
  1. Usuario ingresa credenciales en Login
  2. Supabase Auth valida y retorna JWT token
  3. Token se almacena en localStorage/sessionStorage
  4. Token se incluye en todas las peticiones al backend
  5. Backend valida token con Supabase
  6. Se verifican roles y permisos para cada acciÃ³n

14.2 ConfiguraciÃ³n de Supabase
-------------------------------
â–¡ SETUP INICIAL:
  1. Crear proyecto en Supabase
  2. Configurar Authentication
     - Email + Password habilitado
     - Configurar URLs de redirecciÃ³n
     - Configurar templates de email
  3. Obtener credenciales:
     - SUPABASE_URL
     - SUPABASE_ANON_KEY
     - SUPABASE_SERVICE_ROLE_KEY (solo backend)

â–¡ VARIABLES DE ENTORNO (.env):
  ```env
  # Frontend
  VITE_SUPABASE_URL=https://xxxxx.supabase.co
  VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
  
  # Backend (para validaciÃ³n de tokens)
  SUPABASE_URL=https://xxxxx.supabase.co
  SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
  ```

14.3 Estructura de Base de Datos en Supabase
---------------------------------------------
ğŸ“Œ Tablas necesarias para gestiÃ³n de usuarios y roles

â–¡ TABLA: users (extends auth.users)
  ```sql
  -- Supabase Auth ya provee auth.users
  -- Creamos tabla pÃºblica para datos adicionales
  CREATE TABLE public.user_profiles (
    id UUID REFERENCES auth.users(id) PRIMARY KEY,
    email TEXT NOT NULL,
    first_name TEXT,
    last_name TEXT,
    role_id UUID REFERENCES roles(id),
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
  );
  ```

â–¡ TABLA: roles
  ```sql
  CREATE TABLE public.roles (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    name TEXT NOT NULL UNIQUE,
    description TEXT,
    is_system_role BOOLEAN DEFAULT false,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
  );
  
  -- Roles predefinidos
  INSERT INTO roles (name, description, is_system_role) VALUES
    ('SUPER_ADMIN', 'Administrador con acceso total al sistema', true),
    ('ADMIN', 'Administrador con acceso a gestiÃ³n de nÃ³minas', true),
    ('RRHH', 'Recursos Humanos - GestiÃ³n de empleados y nÃ³minas', true),
    ('EMPLEADO', 'Empleado - Solo lectura de sus propias nÃ³minas', true);
  ```

â–¡ TABLA: modules
  ```sql
  CREATE TABLE public.modules (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    name TEXT NOT NULL UNIQUE,
    display_name TEXT NOT NULL,
    icon TEXT,
    route TEXT NOT NULL,
    description TEXT,
    parent_module_id UUID REFERENCES modules(id),
    order_index INTEGER DEFAULT 0,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
  );
  
  -- MÃ³dulos del sistema
  INSERT INTO modules (name, display_name, icon, route, order_index) VALUES
    ('dashboard', 'Dashboard', 'home', '/dashboard', 1),
    ('personas', 'Personas', 'users', '/personas', 2),
    ('empleados', 'Empleados', 'briefcase', '/empleados', 3),
    ('departamentos', 'Departamentos', 'building', '/departamentos', 4),
    ('nominas', 'NÃ³minas', 'calculator', '/nominas', 5),
    ('novedades', 'Novedades', 'document', '/novedades', 6),
    ('provisiones', 'Provisiones', 'chart', '/provisiones', 7),
    ('parametros', 'ParÃ¡metros', 'settings', '/parametros', 8),
    ('periodos', 'PerÃ­odos', 'calendar', '/periodos', 9),
    ('reportes', 'Reportes', 'document-report', '/reportes', 10),
    ('administracion', 'AdministraciÃ³n', 'cog', '/administracion', 11);
  ```

â–¡ TABLA: role_module_permissions
  ```sql
  CREATE TABLE public.role_module_permissions (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    role_id UUID REFERENCES roles(id) ON DELETE CASCADE,
    module_id UUID REFERENCES modules(id) ON DELETE CASCADE,
    can_view BOOLEAN DEFAULT false,
    can_create BOOLEAN DEFAULT false,
    can_edit BOOLEAN DEFAULT false,
    can_delete BOOLEAN DEFAULT false,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(role_id, module_id)
  );
  
  -- Permisos para SUPER_ADMIN (acceso total)
  INSERT INTO role_module_permissions (role_id, module_id, can_view, can_create, can_edit, can_delete)
  SELECT 
    (SELECT id FROM roles WHERE name = 'SUPER_ADMIN'),
    id,
    true, true, true, true
  FROM modules;
  ```

â–¡ ROW LEVEL SECURITY (RLS):
  ```sql
  -- Habilitar RLS en todas las tablas
  ALTER TABLE user_profiles ENABLE ROW LEVEL SECURITY;
  ALTER TABLE roles ENABLE ROW LEVEL SECURITY;
  ALTER TABLE modules ENABLE ROW LEVEL SECURITY;
  ALTER TABLE role_module_permissions ENABLE ROW LEVEL SECURITY;
  
  -- PolÃ­ticas de ejemplo
  CREATE POLICY "Users can view their own profile"
    ON user_profiles FOR SELECT
    USING (auth.uid() = id);
  
  CREATE POLICY "Super admins can view all profiles"
    ON user_profiles FOR SELECT
    USING (
      EXISTS (
        SELECT 1 FROM user_profiles up
        JOIN roles r ON up.role_id = r.id
        WHERE up.id = auth.uid() AND r.name = 'SUPER_ADMIN'
      )
    );
  ```

14.4 Vistas de AutenticaciÃ³n
-----------------------------
â–¡ Login.vue (Primera pÃ¡gina del sistema)
  - Campos:
    * Email (text input, validaciÃ³n email)
    * Password (password input, min 6 caracteres)
    * Recordarme (checkbox, opcional)
  - Acciones:
    * Iniciar SesiÃ³n
    * Â¿OlvidÃ³ su contraseÃ±a? (link a recuperaciÃ³n)
  - Validaciones:
    * Email vÃ¡lido
    * Password no vacÃ­o
  - Estados:
    * loading (mientras autentica)
    * error (mensaje de error)
  - DiseÃ±o:
    * Centrado en pantalla
    * Logo del sistema
    * Branding corporativo

â–¡ RecuperarPassword.vue
  - Enviar email de recuperaciÃ³n
  - Formulario para nueva contraseÃ±a (con token)

â–¡ CambiarPassword.vue
  - Para usuarios autenticados
  - Campos: password actual, nueva password, confirmar

14.5 MÃ³dulo de AdministraciÃ³n de Usuarios
------------------------------------------
ğŸ“Œ SOLO ACCESIBLE POR ROL SUPER_ADMIN

â–¡ SUBMÃ“DULO EN SIDEBAR:
  ```
  AdministraciÃ³n (solo si role = SUPER_ADMIN)
  â”œâ”€â”€ Usuarios
  â”œâ”€â”€ Roles
  â””â”€â”€ Permisos de MÃ³dulos
  ```

â–¡ AdministracionUsuarios.vue
  - Ruta: /administracion/usuarios
  - Lista de usuarios registrados
  - Tabla con columnas:
    * Email
    * Nombre completo
    * Rol asignado
    * Estado (Activo/Inactivo)
    * Fecha de creaciÃ³n
    * Acciones (Editar, Cambiar rol, Activar/Desactivar)
  - BotÃ³n: + Nuevo Usuario
  - BÃºsqueda y filtros por rol

â–¡ UsuarioForm.vue
  - Crear/Editar usuario
  - Campos:
    * Email (requerido, Ãºnico)
    * Nombre
    * Apellido
    * Rol (SELECT dropdown de roles disponibles)
    * Password (solo al crear, mÃ­nimo 6 caracteres)
    * Estado (Activo/Inactivo)
  - Validaciones:
    * Email Ãºnico
    * Password seguro
    * Rol vÃ¡lido

â–¡ AdministracionRoles.vue
  - Ruta: /administracion/roles
  - Lista de roles del sistema
  - Tabla con columnas:
    * Nombre del rol
    * DescripciÃ³n
    * # de usuarios asignados
    * Sistema (indica si es rol del sistema, no editable)
    * Acciones (Editar permisos, Eliminar si no es sistema)
  - BotÃ³n: + Nuevo Rol

â–¡ RolForm.vue
  - Crear/Editar rol
  - Campos:
    * Nombre (requerido, Ãºnico)
    * DescripciÃ³n
  - No permitir editar roles de sistema (SUPER_ADMIN, ADMIN, etc.)

â–¡ PermisosPorRol.vue
  - Ruta: /administracion/roles/:id/permisos
  - GestiÃ³n de permisos por mÃ³dulo para un rol
  - Tabla/Matriz de permisos:
    ```
    MÃ³dulo          | Ver | Crear | Editar | Eliminar
    ----------------|-----|-------|--------|----------
    Dashboard       | âœ“   | -     | -      | -
    Personas        | âœ“   | âœ“     | âœ“      | âœ“
    Empleados       | âœ“   | âœ“     | âœ“      | â—‹
    NÃ³minas         | âœ“   | âœ“     | â—‹      | â—‹
    ...
    ```
  - Checkboxes para cada permiso
  - Guardar cambios (actualiza role_module_permissions)

14.6 IntegraciÃ³n con Frontend (Vue.js)
---------------------------------------
â–¡ INSTALACIÃ“N DE SUPABASE:
  ```bash
  npm install @supabase/supabase-js
  ```

â–¡ CONFIGURACIÃ“N (src/lib/supabase.ts):
  ```typescript
  import { createClient } from '@supabase/supabase-js'
  
  const supabaseUrl = import.meta.env.VITE_SUPABASE_URL
  const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY
  
  export const supabase = createClient(supabaseUrl, supabaseAnonKey)
  
  // Tipos
  export interface UserProfile {
    id: string
    email: string
    first_name: string
    last_name: string
    role_id: string
    is_active: boolean
  }
  
  export interface Role {
    id: string
    name: string
    description: string
    is_system_role: boolean
  }
  
  export interface Module {
    id: string
    name: string
    display_name: string
    icon: string
    route: string
  }
  
  export interface RoleModulePermission {
    id: string
    role_id: string
    module_id: string
    can_view: boolean
    can_create: boolean
    can_edit: boolean
    can_delete: boolean
  }
  ```

â–¡ AUTH STORE (stores/authStore.ts):
  ```typescript
  import { defineStore } from 'pinia'
  import { ref, computed } from 'vue'
  import { supabase } from '@/lib/supabase'
  import type { User } from '@supabase/supabase-js'
  import type { UserProfile, Role } from '@/lib/supabase'
  
  export const useAuthStore = defineStore('auth', () => {
    // State
    const user = ref<User | null>(null)
    const userProfile = ref<UserProfile | null>(null)
    const userRole = ref<Role | null>(null)
    const permissions = ref<any[]>([])
    const loading = ref(false)
    const error = ref<string | null>(null)
    
    // Getters
    const isAuthenticated = computed(() => !!user.value)
    
    const isSuperAdmin = computed(() => 
      userRole.value?.name === 'SUPER_ADMIN'
    )
    
    const isAdmin = computed(() => 
      userRole.value?.name === 'SUPER_ADMIN' || 
      userRole.value?.name === 'ADMIN'
    )
    
    const canAccessModule = computed(() => {
      return (moduleName: string) => {
        if (isSuperAdmin.value) return true
        const perm = permissions.value.find(p => p.module_name === moduleName)
        return perm?.can_view || false
      }
    })
    
    const canCreate = computed(() => {
      return (moduleName: string) => {
        if (isSuperAdmin.value) return true
        const perm = permissions.value.find(p => p.module_name === moduleName)
        return perm?.can_create || false
      }
    })
    
    const canEdit = computed(() => {
      return (moduleName: string) => {
        if (isSuperAdmin.value) return true
        const perm = permissions.value.find(p => p.module_name === moduleName)
        return perm?.can_edit || false
      }
    })
    
    const canDelete = computed(() => {
      return (moduleName: string) => {
        if (isSuperAdmin.value) return true
        const perm = permissions.value.find(p => p.module_name === moduleName)
        return perm?.can_delete || false
      }
    })
    
    // Actions
    async function login(email: string, password: string) {
      loading.value = true
      error.value = null
      try {
        const { data, error: authError } = await supabase.auth.signInWithPassword({
          email,
          password
        })
        
        if (authError) throw authError
        
        user.value = data.user
        await loadUserProfile()
        await loadPermissions()
        
        return data
      } catch (err: any) {
        error.value = err.message
        throw err
      } finally {
        loading.value = false
      }
    }
    
    async function logout() {
      await supabase.auth.signOut()
      user.value = null
      userProfile.value = null
      userRole.value = null
      permissions.value = []
    }
    
    async function loadUserProfile() {
      if (!user.value) return
      
      const { data, error } = await supabase
        .from('user_profiles')
        .select('*, roles(*)')
        .eq('id', user.value.id)
        .single()
      
      if (data) {
        userProfile.value = data
        userRole.value = data.roles
      }
    }
    
    async function loadPermissions() {
      if (!userProfile.value?.role_id) return
      
      const { data } = await supabase
        .from('role_module_permissions')
        .select('*, modules(*)')
        .eq('role_id', userProfile.value.role_id)
      
      if (data) {
        permissions.value = data.map(p => ({
          module_name: p.modules.name,
          can_view: p.can_view,
          can_create: p.can_create,
          can_edit: p.can_edit,
          can_delete: p.can_delete
        }))
      }
    }
    
    async function checkSession() {
      const { data } = await supabase.auth.getSession()
      if (data.session) {
        user.value = data.session.user
        await loadUserProfile()
        await loadPermissions()
      }
    }
    
    return {
      // State
      user,
      userProfile,
      userRole,
      permissions,
      loading,
      error,
      // Getters
      isAuthenticated,
      isSuperAdmin,
      isAdmin,
      canAccessModule,
      canCreate,
      canEdit,
      canDelete,
      // Actions
      login,
      logout,
      loadUserProfile,
      loadPermissions,
      checkSession
    }
  })
  ```

14.7 Route Guards (ProtecciÃ³n de Rutas)
----------------------------------------
â–¡ ACTUALIZAR ROUTER (src/router/index.ts):
  ```typescript
  import { useAuthStore } from '@/stores/authStore'
  
  // Navigation Guards
  router.beforeEach(async (to, from, next) => {
    const authStore = useAuthStore()
    
    // Verificar sesiÃ³n al cargar app
    if (!authStore.user) {
      await authStore.checkSession()
    }
    
    // Rutas pÃºblicas
    const publicRoutes = ['login', 'recuperar-password']
    const isPublicRoute = publicRoutes.includes(to.name as string)
    
    // Si no estÃ¡ autenticado y no es ruta pÃºblica â†’ Login
    if (!authStore.isAuthenticated && !isPublicRoute) {
      next({ name: 'login' })
      return
    }
    
    // Si estÃ¡ autenticado y va a login â†’ Dashboard
    if (authStore.isAuthenticated && to.name === 'login') {
      next({ name: 'dashboard' })
      return
    }
    
    // Verificar permisos de mÃ³dulo
    if (to.meta.requiresAuth !== false && authStore.isAuthenticated) {
      const moduleName = to.meta.module as string
      
      // Rutas de administraciÃ³n solo para SUPER_ADMIN
      if (to.path.startsWith('/administracion') && !authStore.isSuperAdmin) {
        next({ name: 'dashboard' })
        return
      }
      
      // Verificar acceso al mÃ³dulo
      if (moduleName && !authStore.canAccessModule(moduleName)) {
        next({ name: 'dashboard' })
        return
      }
    }
    
    next()
  })
  ```

â–¡ ACTUALIZAR RUTAS CON META:
  ```typescript
  {
    path: '/empleados',
    name: 'empleados',
    component: () => import('@/views/empleados/EmpleadosList.vue'),
    meta: { 
      title: 'Empleados',
      requiresAuth: true,
      module: 'empleados'
    }
  },
  {
    path: '/administracion',
    name: 'administracion',
    component: () => import('@/layouts/AdminLayout.vue'),
    meta: { 
      requiresAuth: true,
      requiresSuperAdmin: true
    },
    children: [
      {
        path: 'usuarios',
        name: 'admin-usuarios',
        component: () => import('@/views/administracion/AdministracionUsuarios.vue')
      },
      {
        path: 'roles',
        name: 'admin-roles',
        component: () => import('@/views/administracion/AdministracionRoles.vue')
      }
    ]
  }
  ```

14.8 Sidebar DinÃ¡mico con Permisos
-----------------------------------
â–¡ ACTUALIZAR SIDEBAR (components/layout/Sidebar.vue):
  ```vue
  <template>
    <aside class="sidebar">
      <nav>
        <ul>
          <!-- Dashboard (siempre visible si autenticado) -->
          <li v-if="authStore.canAccessModule('dashboard')">
            <router-link to="/dashboard">
              <Icon name="home" />
              Dashboard
            </router-link>
          </li>
          
          <!-- MÃ³dulos funcionales -->
          <li v-if="authStore.canAccessModule('personas')">
            <router-link to="/personas">
              <Icon name="users" />
              Personas
            </router-link>
          </li>
          
          <li v-if="authStore.canAccessModule('empleados')">
            <router-link to="/empleados">
              <Icon name="briefcase" />
              Empleados
            </router-link>
          </li>
          
          <!-- ... mÃ¡s mÃ³dulos ... -->
          
          <!-- AdministraciÃ³n (solo SUPER_ADMIN) -->
          <li v-if="authStore.isSuperAdmin" class="submenu">
            <div class="submenu-header">
              <Icon name="cog" />
              AdministraciÃ³n
            </div>
            <ul class="submenu-items">
              <li>
                <router-link to="/administracion/usuarios">
                  Usuarios
                </router-link>
              </li>
              <li>
                <router-link to="/administracion/roles">
                  Roles
                </router-link>
              </li>
              <li>
                <router-link to="/administracion/permisos">
                  Permisos
                </router-link>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
    </aside>
  </template>
  
  <script setup lang="ts">
  import { useAuthStore } from '@/stores/authStore'
  
  const authStore = useAuthStore()
  </script>
  ```

14.9 Componentes Condicionales segÃºn Permisos
----------------------------------------------
â–¡ BOTONES Y ACCIONES CONDICIONADAS:
  ```vue
  <!-- EmpleadosList.vue -->
  <template>
    <div>
      <h1>Empleados</h1>
      
      <!-- BotÃ³n crear solo si tiene permiso -->
      <button 
        v-if="authStore.canCreate('empleados')"
        @click="crearEmpleado"
      >
        + Nuevo Empleado
      </button>
      
      <table>
        <tr v-for="emp in empleados" :key="emp.id">
          <td>{{ emp.nombre }}</td>
          <td>
            <!-- Acciones segÃºn permisos -->
            <button 
              v-if="authStore.canEdit('empleados')"
              @click="editar(emp)"
            >
              Editar
            </button>
            <button 
              v-if="authStore.canDelete('empleados')"
              @click="eliminar(emp)"
            >
              Eliminar
            </button>
          </td>
        </tr>
      </table>
    </div>
  </template>
  ```

14.10 IntegraciÃ³n con Backend (C# .NET)
----------------------------------------
â–¡ VALIDACIÃ“N DE TOKEN EN BACKEND:
  - Instalar: Supabase.Gotrue (NuGet)
  - Validar JWT en cada request
  - Extraer user_id y role del token
  - Aplicar lÃ³gica de permisos

14.10 IntegraciÃ³n con Backend (C# .NET)
----------------------------------------
â–¡ VALIDACIÃ“N DE TOKEN EN BACKEND:
  - Instalar: Supabase.Gotrue (NuGet)
  - Validar JWT en cada request
  - Extraer user_id y role del token
  - Aplicar lÃ³gica de permisos

14.11 Seguridad y Mejores PrÃ¡cticas
------------------------------------
â–¡ SEGURIDAD:
  âœ“ Tokens JWT con expiraciÃ³n (configurable en Supabase)
  âœ“ Refresh tokens automÃ¡ticos
  âœ“ Row Level Security (RLS) en Supabase
  âœ“ HTTPS obligatorio en producciÃ³n
  âœ“ ValidaciÃ³n de permisos en frontend Y backend
  âœ“ Rate limiting en login (prevenir fuerza bruta)
  âœ“ Passwords hasheados (Supabase lo hace automÃ¡ticamente)

â–¡ MEJORES PRÃCTICAS:
  âœ“ No almacenar contraseÃ±as en frontend
  âœ“ Logout al expirar token
  âœ“ Limpiar localStorage al logout
  âœ“ Validar sesiÃ³n al recargar pÃ¡gina
  âœ“ Mensajes de error genÃ©ricos (no revelar si email existe)

14.12 Flujo Completo del Usuario
---------------------------------
â–¡ PRIMER USO DEL SISTEMA:
  1. SUPER_ADMIN inicial creado manualmente en Supabase
  2. SUPER_ADMIN accede con credenciales
  3. SUPER_ADMIN crea roles personalizados (si necesita)
  4. SUPER_ADMIN configura permisos por rol
  5. SUPER_ADMIN crea usuarios y asigna roles
  6. Usuarios reciben email con link para establecer password
  7. Usuarios acceden al sistema con sus credenciales

â–¡ USO DIARIO:
  1. Usuario ingresa a la URL del sistema
  2. Si no estÃ¡ autenticado â†’ Redirige a /login
  3. Usuario ingresa email y password
  4. Sistema valida credenciales con Supabase
  5. Si es vÃ¡lido:
     - Almacena token en localStorage
     - Carga perfil de usuario
     - Carga rol y permisos
     - Redirige a /dashboard
  6. Sidebar muestra solo mÃ³dulos accesibles
  7. Botones/acciones se muestran segÃºn permisos
  8. Al hacer logout â†’ Limpia sesiÃ³n y vuelve a /login

14.13 Ejemplo de Login.vue Completo
------------------------------------
```vue
<template>
  <div class="login-container">
    <div class="login-card">
      <!-- Logo -->
      <div class="logo">
        <img src="/logo.png" alt="WFN System" />
        <h1>Sistema de NÃ³minas WFN</h1>
      </div>
      
      <!-- Formulario -->
      <form @submit.prevent="handleLogin">
        <!-- Email -->
        <div class="form-group">
          <label for="email">Email</label>
          <input
            id="email"
            v-model="form.email"
            type="email"
            required
            placeholder="usuario@empresa.com"
            :disabled="loading"
          />
        </div>
        
        <!-- Password -->
        <div class="form-group">
          <label for="password">ContraseÃ±a</label>
          <input
            id="password"
            v-model="form.password"
            type="password"
            required
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            :disabled="loading"
          />
        </div>
        
        <!-- Recordarme -->
        <div class="form-group-checkbox">
          <input
            id="remember"
            v-model="form.remember"
            type="checkbox"
          />
          <label for="remember">Recordarme</label>
        </div>
        
        <!-- Error -->
        <div v-if="error" class="error-message">
          {{ error }}
        </div>
        
        <!-- BotÃ³n -->
        <button 
          type="submit" 
          class="btn-primary"
          :disabled="loading"
        >
          <span v-if="!loading">Iniciar SesiÃ³n</span>
          <span v-else>Ingresando...</span>
        </button>
      </form>
      
      <!-- Links -->
      <div class="links">
        <router-link to="/recuperar-password">
          Â¿OlvidÃ³ su contraseÃ±a?
        </router-link>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { useAuthStore } from '@/stores/authStore'

const router = useRouter()
const authStore = useAuthStore()

const form = ref({
  email: '',
  password: '',
  remember: false
})

const loading = ref(false)
const error = ref<string | null>(null)

async function handleLogin() {
  loading.value = true
  error.value = null
  
  try {
    await authStore.login(form.value.email, form.value.password)
    
    // Redirigir a dashboard
    router.push({ name: 'dashboard' })
  } catch (err: any) {
    // Mensajes de error user-friendly
    if (err.message.includes('Invalid login credentials')) {
      error.value = 'Email o contraseÃ±a incorrectos'
    } else if (err.message.includes('Email not confirmed')) {
      error.value = 'Por favor confirme su email antes de iniciar sesiÃ³n'
    } else {
      error.value = 'Error al iniciar sesiÃ³n. Intente nuevamente.'
    }
  } finally {
    loading.value = false
  }
}
</script>

<style scoped>
.login-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.login-card {
  background: white;
  padding: 2rem;
  border-radius: 1rem;
  box-shadow: 0 10px 40px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 400px;
}

.logo {
  text-align: center;
  margin-bottom: 2rem;
}

.logo img {
  width: 80px;
  margin-bottom: 1rem;
}

.form-group {
  margin-bottom: 1rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
}

.form-group input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 0.5rem;
}

.error-message {
  background: #fee;
  color: #c00;
  padding: 0.75rem;
  border-radius: 0.5rem;
  margin-bottom: 1rem;
}

.btn-primary {
  width: 100%;
  padding: 0.75rem;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 0.5rem;
  cursor: pointer;
  font-size: 1rem;
  font-weight: 500;
}

.btn-primary:hover:not(:disabled) {
  background: #5568d3;
}

.btn-primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.links {
  margin-top: 1rem;
  text-align: center;
}
</style>
```

14.14 AdministraciÃ³n de Usuarios - Store
-----------------------------------------
```typescript
// stores/adminStore.ts
import { defineStore } from 'pinia'
import { ref } from 'vue'
import { supabase } from '@/lib/supabase'

export const useAdminStore = defineStore('admin', () => {
  const usuarios = ref<any[]>([])
  const roles = ref<any[]>([])
  const modulos = ref<any[]>([])
  const loading = ref(false)
  
  async function fetchUsuarios() {
    loading.value = true
    try {
      const { data } = await supabase
        .from('user_profiles')
        .select('*, roles(*)')
        .order('created_at', { ascending: false })
      
      usuarios.value = data || []
    } finally {
      loading.value = false
    }
  }
  
  async function fetchRoles() {
    const { data } = await supabase
      .from('roles')
      .select('*')
      .order('name')
    
    roles.value = data || []
  }
  
  async function fetchModulos() {
    const { data } = await supabase
      .from('modules')
      .select('*')
      .order('order_index')
    
    modulos.value = data || []
  }
  
  async function createUsuario(userData: any) {
    // 1. Crear usuario en Supabase Auth
    const { data: authData, error: authError } = await supabase.auth.admin.createUser({
      email: userData.email,
      password: userData.password,
      email_confirm: true
    })
    
    if (authError) throw authError
    
    // 2. Crear perfil
    const { error: profileError } = await supabase
      .from('user_profiles')
      .insert({
        id: authData.user.id,
        email: userData.email,
        first_name: userData.first_name,
        last_name: userData.last_name,
        role_id: userData.role_id,
        is_active: true
      })
    
    if (profileError) throw profileError
    
    await fetchUsuarios()
  }
  
  async function updateUsuarioRole(userId: string, roleId: string) {
    const { error } = await supabase
      .from('user_profiles')
      .update({ role_id: roleId })
      .eq('id', userId)
    
    if (error) throw error
    await fetchUsuarios()
  }
  
  async function toggleUsuarioStatus(userId: string, isActive: boolean) {
    const { error } = await supabase
      .from('user_profiles')
      .update({ is_active: !isActive })
      .eq('id', userId)
    
    if (error) throw error
    await fetchUsuarios()
  }
  
  async function createRol(rolData: any) {
    const { error } = await supabase
      .from('roles')
      .insert(rolData)
    
    if (error) throw error
    await fetchRoles()
  }
  
  async function updatePermisos(roleId: string, moduleId: string, permissions: any) {
    const { error } = await supabase
      .from('role_module_permissions')
      .upsert({
        role_id: roleId,
        module_id: moduleId,
        ...permissions
      })
    
    if (error) throw error
  }
  
  async function fetchPermisosPorRol(roleId: string) {
    const { data } = await supabase
      .from('role_module_permissions')
      .select('*, modules(*)')
      .eq('role_id', roleId)
    
    return data || []
  }
  
  return {
    usuarios,
    roles,
    modulos,
    loading,
    fetchUsuarios,
    fetchRoles,
    fetchModulos,
    createUsuario,
    updateUsuarioRole,
    toggleUsuarioStatus,
    createRol,
    updatePermisos,
    fetchPermisosPorRol
  }
})
```

14.15 Validaciones y Alertas de Seguridad
------------------------------------------
â–¡ VALIDACIONES EN FORMULARIOS:
  âœ“ Email: formato vÃ¡lido, Ãºnico en sistema
  âœ“ Password: mÃ­nimo 8 caracteres, mayÃºsculas, nÃºmeros
  âœ“ Rol: debe existir y ser vÃ¡lido
  âœ“ Confirmar antes de eliminar usuarios
  âœ“ No permitir auto-eliminaciÃ³n
  âœ“ No permitir eliminar SUPER_ADMIN si es el Ãºnico

â–¡ ALERTAS DE SEGURIDAD:
  âš ï¸ "Â¿EstÃ¡ seguro de cambiar el rol de este usuario?"
  âš ï¸ "Â¿EstÃ¡ seguro de desactivar este usuario?"
  âš ï¸ "No puede eliminar un rol asignado a usuarios"
  âš ï¸ "Debe existir al menos un SUPER_ADMIN activo"
  â„¹ï¸ "El usuario recibirÃ¡ un email para establecer su contraseÃ±a"

14.16 Casos de Uso Especiales
------------------------------
â–¡ PRIMER SUPER_ADMIN:
  - Crear manualmente en Supabase Auth
  - Agregar registro en user_profiles con role SUPER_ADMIN
  - Usar para bootstrap del sistema

â–¡ RECUPERACIÃ“N DE ACCESO:
  - Si se pierde acceso de SUPER_ADMIN
  - Crear nuevo SUPER_ADMIN desde Supabase Dashboard
  - Documentar proceso en README

â–¡ MIGRACIÃ“N DE USUARIOS:
  - Si ya existen usuarios en otro sistema
  - Importar con script SQL
  - Enviar emails de bienvenida

â–¡ AUDITORÃA:
  - Logging de cambios de roles
  - Logging de cambios de permisos
  - Historial de accesos (opcional, con trigger en Supabase)

================================================================================
FASE 15: CARACTERÃSTICAS ADICIONALES
================================================================================

15.1 Notificaciones
--------------------
â–¡ Sistema de notificaciones toast
â–¡ Notificaciones de eventos importantes

14.3 BÃºsqueda Global
--------------------
â–¡ Componente de bÃºsqueda global
â–¡ Buscar en empleados, nÃ³minas, etc.

14.4 Temas y PersonalizaciÃ³n
-----------------------------
â–¡ Modo oscuro/claro
â–¡ PersonalizaciÃ³n de colores

14.5 InternacionalizaciÃ³n (i18n)
--------------------------------
â–¡ Soporte multiidioma (EspaÃ±ol/InglÃ©s)

================================================================================
FASE 15: OPTIMIZACIÃ“N Y TESTING
================================================================================

15.1 OptimizaciÃ³n
-----------------
â–¡ Lazy loading de rutas
â–¡ Code splitting
â–¡ OptimizaciÃ³n de imÃ¡genes
â–¡ CachÃ© de datos

15.2 Testing
------------
â–¡ Unit tests (Vitest)
â–¡ Component tests
â–¡ E2E tests (Cypress/Playwright)

15.3 DocumentaciÃ³n
------------------
â–¡ README.md
â–¡ DocumentaciÃ³n de componentes
â–¡ GuÃ­a de estilos

================================================================================
FASE 16: DEPLOYMENT
================================================================================

16.1 Build y Deploy
-------------------
â–¡ ConfiguraciÃ³n de build para producciÃ³n
â–¡ CI/CD pipeline
â–¡ Deploy en AWS (S3 + CloudFront o Amplify)

================================================================================
CONFIGURACIÃ“N DE ROUTING (Vue Router)
================================================================================

A. ESTRUCTURA DE RUTAS
-----------------------
```typescript
// src/router/index.ts
import { createRouter, createWebHistory } from 'vue-router'
import type { RouteRecordRaw } from 'vue-router'

const routes: RouteRecordRaw[] = [
  {
    path: '/',
    component: () => import('@/layouts/MainLayout.vue'),
    children: [
      {
        path: '',
        name: 'dashboard',
        component: () => import('@/views/Dashboard.vue'),
        meta: { title: 'Dashboard', icon: 'home' }
      },
      
      // Personas
      {
        path: '/personas',
        name: 'personas',
        component: () => import('@/views/personas/PersonasList.vue'),
        meta: { title: 'Personas', icon: 'users' }
      },
      {
        path: '/personas/nuevo',
        name: 'persona-nuevo',
        component: () => import('@/views/personas/PersonaForm.vue'),
        meta: { title: 'Nueva Persona' }
      },
      {
        path: '/personas/:id',
        name: 'persona-detalle',
        component: () => import('@/views/personas/PersonaDetail.vue'),
        meta: { title: 'Detalle Persona' }
      },
      {
        path: '/personas/:id/editar',
        name: 'persona-editar',
        component: () => import('@/views/personas/PersonaForm.vue'),
        meta: { title: 'Editar Persona' }
      },
      
      // Empleados
      {
        path: '/empleados',
        name: 'empleados',
        component: () => import('@/views/empleados/EmpleadosList.vue'),
        meta: { title: 'Empleados', icon: 'briefcase' }
      },
      {
        path: '/empleados/nuevo',
        name: 'empleado-nuevo',
        component: () => import('@/views/empleados/EmpleadoForm.vue'),
        meta: { title: 'Nuevo Empleado' }
      },
      {
        path: '/empleados/:id',
        name: 'empleado-detalle',
        component: () => import('@/views/empleados/EmpleadoDetail.vue'),
        meta: { title: 'Detalle Empleado' }
      },
      
      // Departamentos
      {
        path: '/departamentos',
        name: 'departamentos',
        component: () => import('@/views/departamentos/DepartamentosList.vue'),
        meta: { title: 'Departamentos', icon: 'building' }
      },
      
      // NÃ³minas
      {
        path: '/nominas',
        name: 'nominas',
        component: () => import('@/views/nominas/NominasList.vue'),
        meta: { title: 'NÃ³minas', icon: 'calculator' }
      },
      {
        path: '/nominas/generar',
        name: 'nomina-generar',
        component: () => import('@/views/nominas/NominaGenerate.vue'),
        meta: { title: 'Generar NÃ³mina' }
      },
      {
        path: '/nominas/:empleadoId/:periodo',
        name: 'nomina-detalle',
        component: () => import('@/views/nominas/NominaDetail.vue'),
        meta: { title: 'Detalle NÃ³mina' }
      },
      
      // Novedades
      {
        path: '/novedades',
        name: 'novedades',
        component: () => import('@/views/novedades/NovedadesList.vue'),
        meta: { title: 'Novedades', icon: 'document' }
      },
      
      // Provisiones
      {
        path: '/provisiones',
        name: 'provisiones',
        component: () => import('@/views/provisiones/ProvisionesList.vue'),
        meta: { title: 'Provisiones', icon: 'chart' }
      },
      
      // ParÃ¡metros
      {
        path: '/parametros',
        name: 'parametros',
        component: () => import('@/views/parametros/ParametrosList.vue'),
        meta: { title: 'ParÃ¡metros', icon: 'settings', requiresAdmin: true }
      },
      
      // Workspaces (Periodos)
      {
        path: '/periodos',
        name: 'periodos',
        component: () => import('@/views/workspaces/WorkspacesList.vue'),
        meta: { title: 'Periodos', icon: 'calendar', requiresAdmin: true }
      },
      
      // Reportes
      {
        path: '/reportes',
        name: 'reportes',
        component: () => import('@/views/reportes/ReportesView.vue'),
        meta: { title: 'Reportes', icon: 'document-report' }
      }
    ]
  },
  
  // Rutas sin layout (futuro)
  {
    path: '/login',
    name: 'login',
    component: () => import('@/views/auth/Login.vue'),
    meta: { requiresAuth: false }
  },
  
  // 404 Not Found
  {
    path: '/:pathMatch(.*)*',
    name: 'not-found',
    component: () => import('@/views/NotFound.vue')
  }
]

const router = createRouter({
  history: createWebHistory(import.meta.env.BASE_URL),
  routes,
  scrollBehavior(to, from, savedPosition) {
    if (savedPosition) {
      return savedPosition
    } else {
      return { top: 0 }
    }
  }
})

// Navigation Guards (futuro con autenticaciÃ³n)
router.beforeEach((to, from, next) => {
  // Verificar autenticaciÃ³n
  // const isAuthenticated = authStore.isAuthenticated
  // if (to.meta.requiresAuth !== false && !isAuthenticated) {
  //   next({ name: 'login' })
  // } else {
  //   next()
  // }
  next() // Por ahora permitir todo
})

export default router
```

B. META TAGS PERSONALIZADOS
----------------------------
â–¡ title: TÃ­tulo de la pÃ¡gina
â–¡ icon: Icono para el menÃº
â–¡ requiresAuth: Requiere autenticaciÃ³n (true por defecto)
â–¡ requiresAdmin: Solo para administradores
â–¡ breadcrumb: Para navegaciÃ³n de migas de pan

================================================================================
EJEMPLOS DE STORES CON PINIA
================================================================================

A. STORE DE EMPLEADOS
----------------------
```typescript
// src/stores/empleadoStore.ts
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import { empleadoAPI } from '@/api'
import type { Empleado, CreateEmpleadoDTO } from '@/types/empleado.types'

export const useEmpleadoStore = defineStore('empleado', () => {
  // State
  const empleados = ref<Empleado[]>([])
  const selectedEmpleado = ref<Empleado | null>(null)
  const loading = ref(false)
  const error = ref<string | null>(null)

  // Getters
  const empleadosActivos = computed(() => 
    empleados.value.filter(e => e.StatusLaboral === 0)
  )
  
  const totalEmpleados = computed(() => empleados.value.length)
  
  const getEmpleadoById = computed(() => {
    return (id: string) => empleados.value.find(e => e.ID_Empleado === id)
  })

  // Actions
  async function fetchEmpleados() {
    loading.value = true
    error.value = null
    try {
      empleados.value = await empleadoAPI.getEmpleados()
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function fetchEmpleadoById(id: string) {
    loading.value = true
    error.value = null
    try {
      selectedEmpleado.value = await empleadoAPI.getEmpleadoById(id)
      return selectedEmpleado.value
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function createEmpleado(data: CreateEmpleadoDTO) {
    loading.value = true
    error.value = null
    try {
      const newEmpleado = await empleadoAPI.createEmpleado(data)
      empleados.value.push(newEmpleado)
      return newEmpleado
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function updateEmpleado(id: string, data: CreateEmpleadoDTO) {
    loading.value = true
    error.value = null
    try {
      const updated = await empleadoAPI.updateEmpleado(id, data)
      const index = empleados.value.findIndex(e => e.ID_Empleado === id)
      if (index !== -1) {
        empleados.value[index] = updated
      }
      return updated
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function deleteEmpleado(id: string) {
    loading.value = true
    error.value = null
    try {
      await empleadoAPI.deleteEmpleado(id)
      empleados.value = empleados.value.filter(e => e.ID_Empleado !== id)
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  return {
    // State
    empleados,
    selectedEmpleado,
    loading,
    error,
    // Getters
    empleadosActivos,
    totalEmpleados,
    getEmpleadoById,
    // Actions
    fetchEmpleados,
    fetchEmpleadoById,
    createEmpleado,
    updateEmpleado,
    deleteEmpleado
  }
})
```

B. STORE DE NÃ“MINAS
--------------------
```typescript
// src/stores/nominaStore.ts
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import { nominaAPI } from '@/api'
import type { Nomina, GenerarNominaRequest } from '@/types/nomina.types'

export const useNominaStore = defineStore('nomina', () => {
  // State
  const nominas = ref<Nomina[]>([])
  const selectedNomina = ref<Nomina | null>(null)
  const loading = ref(false)
  const error = ref<string | null>(null)
  const periodo = ref<string>('')

  // Getters
  const nominasPorPeriodo = computed(() => {
    if (!periodo.value) return nominas.value
    return nominas.value.filter(n => n.Periodo === periodo.value)
  })
  
  const totalNominas = computed(() => nominas.value.length)
  
  const totalAPagar = computed(() => 
    nominas.value.reduce((sum, n) => sum + n.NetoAPagar, 0)
  )

  // Actions
  async function fetchNominasByEmpleado(empleadoId: string) {
    loading.value = true
    error.value = null
    try {
      nominas.value = await nominaAPI.getNominasByEmpleado(empleadoId)
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function fetchNominaByPeriodo(empleadoId: string, periodo: string) {
    loading.value = true
    error.value = null
    try {
      selectedNomina.value = await nominaAPI.getNominaByPeriodo(empleadoId, periodo)
      return selectedNomina.value
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function generarNomina(request: GenerarNominaRequest) {
    loading.value = true
    error.value = null
    try {
      const nomina = await nominaAPI.generarNomina(request)
      nominas.value.push(nomina)
      return nomina
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function recalcularNomina(empleadoId: string, periodo: string) {
    loading.value = true
    error.value = null
    try {
      const nomina = await nominaAPI.recalcularNomina({ EmpleadoId: empleadoId, Periodo: periodo })
      const index = nominas.value.findIndex(n => 
        n.ID_Empleado === empleadoId && n.Periodo === periodo
      )
      if (index !== -1) {
        nominas.value[index] = nomina
      }
      return nomina
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  return {
    // State
    nominas,
    selectedNomina,
    loading,
    error,
    periodo,
    // Getters
    nominasPorPeriodo,
    totalNominas,
    totalAPagar,
    // Actions
    fetchNominasByEmpleado,
    fetchNominaByPeriodo,
    generarNomina,
    recalcularNomina
  }
})
```

C. STORE DE WORKSPACES
-----------------------
```typescript
// src/stores/workspaceStore.ts
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import { workspaceAPI } from '@/api'
import type { WorkspaceNomina } from '@/types/workspace.types'

export const useWorkspaceStore = defineStore('workspace', () => {
  // State
  const workspaces = ref<WorkspaceNomina[]>([])
  const currentWorkspace = ref<WorkspaceNomina | null>(null)
  const loading = ref(false)
  const error = ref<string | null>(null)

  // Getters
  const periodosAbiertos = computed(() => 
    workspaces.value.filter(w => w.Estado === 0)
  )
  
  const periodosCerrados = computed(() => 
    workspaces.value.filter(w => w.Estado === 1)
  )
  
  const ultimoPeriodo = computed(() => 
    workspaces.value[0] || null
  )
  
  const isPeriodoAbierto = computed(() => {
    return (periodo: string) => {
      const ws = workspaces.value.find(w => w.Periodo === periodo)
      return ws?.Estado === 0
    }
  })

  // Actions
  async function fetchWorkspaces() {
    loading.value = true
    error.value = null
    try {
      workspaces.value = await workspaceAPI.getWorkspaces()
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function crearPeriodo(periodo: string) {
    loading.value = true
    error.value = null
    try {
      const workspace = await workspaceAPI.crearPeriodo(periodo)
      workspaces.value.unshift(workspace)
      return workspace
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  async function cerrarPeriodo(periodo: string) {
    loading.value = true
    error.value = null
    try {
      const workspace = await workspaceAPI.cerrarPeriodo(periodo)
      const index = workspaces.value.findIndex(w => w.Periodo === periodo)
      if (index !== -1) {
        workspaces.value[index] = workspace
      }
      return workspace
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }

  return {
    // State
    workspaces,
    currentWorkspace,
    loading,
    error,
    // Getters
    periodosAbiertos,
    periodosCerrados,
    ultimoPeriodo,
    isPeriodoAbierto,
    // Actions
    fetchWorkspaces,
    crearPeriodo,
    cerrarPeriodo
  }
})
```

================================================================================
PRIORIDADES INMEDIATAS (SPRINTS ACTUALIZADOS)
================================================================================

âœ“ SPRINT 1: CONFIGURACIÃ“N BASE + AUTENTICACIÃ“N
  1. Configurar variables de entorno (.env)
  2. Crear estructura de carpetas
  3. Configurar instancia base de Axios (axiosInstance.ts)
  4. â­ NUEVO: Configurar Supabase
     - Crear proyecto en Supabase
     - Configurar Auth
     - Crear tablas (users, roles, modules, permissions)
     - Configurar RLS
  5. â­ NUEVO: Implementar AutenticaciÃ³n
     - Crear authStore.ts
     - Crear Login.vue (PRIMERA PÃGINA)
     - Configurar route guards
     - Implementar logout
  6. Implementar PatrÃ³n Facade para APIs:
     - Crear api/apiFacade.ts (facade base)
     - Crear facades especÃ­ficas (empleado, departamento, nomina, etc.)
     - Crear api/index.ts (exportar todas las facades)
  7. Definir tipos TypeScript principales (interfaces de modelos)
  8. â­ NUEVO: Crear constantes de dropdown centralizadas

âœ“ SPRINT 2: COMPONENTES BÃSICOS + ADMINISTRACIÃ“N
  9. Crear componentes comunes (Button, Input, Card, Table, Modal)
  10. Crear layout principal (MainLayout, Navbar, Sidebar)
  11. Implementar sidebar dinÃ¡mico con permisos
  12. â­ NUEVO: MÃ³dulo de AdministraciÃ³n (solo SUPER_ADMIN)
      - AdministracionUsuarios.vue
      - AdministracionRoles.vue
      - PermisosPorRol.vue
      - adminStore.ts
  13. â­ NUEVO: Crear SUPER_ADMIN inicial en Supabase

âœ“ SPRINT 3: DASHBOARD + MAESTROS
  14. Crear vista del Dashboard
  15. Implementar componentes de grÃ¡ficos
  16. Crear store de dashboard (usando facades)
  17. MÃ³dulo de Departamentos (mÃ¡s simple)
  18. MÃ³dulo de Personas
  19. MÃ³dulo de ParÃ¡metros

âœ“ SPRINT 4: EMPLEADOS + NOVEDADES
  20. MÃ³dulo de Empleados (depende de Persona y Departamento)
  21. MÃ³dulo de Banking (depende de Persona)
  22. MÃ³dulo de Novedades (depende de Empleado y ParÃ¡metros)
  23. MÃ³dulo de Workspaces (GestiÃ³n de periodos)

âœ“ SPRINT 5: NÃ“MINAS
  24. MÃ³dulo de NÃ³minas (depende de todo lo anterior)
  25. MÃ³dulo de Provisiones (solo lectura)
  26. Pruebas de cÃ¡lculo de nÃ³mina

âœ“ SPRINT 6: REPORTES Y OPTIMIZACIÃ“N
  27. MÃ³dulo de Reportes
  28. Exportaciones (PDF, Excel)
  29. Optimizaciones y testing
  30. DocumentaciÃ³n final

================================================================================
CHECKLIST DE IMPLEMENTACIÃ“N - AUTENTICACIÃ“N CON SUPABASE
================================================================================

â–¡ FASE 1: CONFIGURACIÃ“N DE SUPABASE
  â˜ 1.1 Crear proyecto en Supabase.com
  â˜ 1.2 Configurar Authentication â†’ Email + Password
  â˜ 1.3 Copiar credenciales (URL y ANON_KEY)
  â˜ 1.4 Ejecutar scripts SQL para crear tablas:
      - user_profiles
      - roles
      - modules
      - role_module_permissions
  â˜ 1.5 Insertar roles predefinidos (SUPER_ADMIN, ADMIN, RRHH, EMPLEADO)
  â˜ 1.6 Insertar mÃ³dulos del sistema (11 mÃ³dulos)
  â˜ 1.7 Configurar permisos para SUPER_ADMIN
  â˜ 1.8 Habilitar Row Level Security (RLS)
  â˜ 1.9 Crear polÃ­ticas de RLS

â–¡ FASE 2: CONFIGURACIÃ“N FRONTEND
  â˜ 2.1 Instalar @supabase/supabase-js
  â˜ 2.2 Crear archivo .env con variables
  â˜ 2.3 Crear src/lib/supabase.ts
  â˜ 2.4 Crear tipos TypeScript (UserProfile, Role, Module, etc.)
  â˜ 2.5 Crear stores/authStore.ts
  â˜ 2.6 Crear stores/adminStore.ts

â–¡ FASE 3: VISTAS DE AUTENTICACIÃ“N
  â˜ 3.1 Crear views/auth/Login.vue
  â˜ 3.2 Crear views/auth/RecuperarPassword.vue
  â˜ 3.3 Crear views/auth/CambiarPassword.vue
  â˜ 3.4 Actualizar App.vue para manejar autenticaciÃ³n

â–¡ FASE 4: ROUTE GUARDS
  â˜ 4.1 Actualizar router/index.ts con beforeEach guard
  â˜ 4.2 Agregar meta.requiresAuth a todas las rutas protegidas
  â˜ 4.3 Agregar meta.module a rutas que requieren permisos
  â˜ 4.4 Agregar meta.requiresSuperAdmin a rutas de administraciÃ³n
  â˜ 4.5 Redirigir a login si no autenticado
  â˜ 4.6 Redirigir a dashboard si ya autenticado y va a login

â–¡ FASE 5: SIDEBAR DINÃMICO
  â˜ 5.1 Actualizar Sidebar.vue para usar authStore
  â˜ 5.2 Ocultar/mostrar mÃ³dulos segÃºn permisos (v-if)
  â˜ 5.3 Agregar secciÃ³n "AdministraciÃ³n" con v-if="isSuperAdmin"
  â˜ 5.4 Agregar submenu con Usuarios, Roles, Permisos

â–¡ FASE 6: MÃ“DULO DE ADMINISTRACIÃ“N
  â˜ 6.1 Crear views/administracion/AdministracionUsuarios.vue
  â˜ 6.2 Crear views/administracion/UsuarioForm.vue
  â˜ 6.3 Crear views/administracion/AdministracionRoles.vue
  â˜ 6.4 Crear views/administracion/RolForm.vue
  â˜ 6.5 Crear views/administracion/PermisosPorRol.vue
  â˜ 6.6 Implementar CRUD completo de usuarios
  â˜ 6.7 Implementar CRUD de roles
  â˜ 6.8 Implementar matriz de permisos

â–¡ FASE 7: CREAR SUPER_ADMIN INICIAL
  â˜ 7.1 Ir a Supabase Dashboard â†’ Authentication
  â˜ 7.2 Crear usuario manualmente (ej: admin@sistema.com)
  â˜ 7.3 Copiar UUID del usuario creado
  â˜ 7.4 Ejecutar SQL para crear perfil:
      ```sql
      INSERT INTO user_profiles (id, email, first_name, last_name, role_id, is_active)
      VALUES (
        'UUID-DEL-USUARIO',
        'admin@sistema.com',
        'Super',
        'Admin',
        (SELECT id FROM roles WHERE name = 'SUPER_ADMIN'),
        true
      );
      ```
  â˜ 7.5 Probar login con credenciales

â–¡ FASE 8: VALIDACIONES Y SEGURIDAD
  â˜ 8.1 Validar email Ãºnico al crear usuario
  â˜ 8.2 Validar password seguro (min 8 caracteres)
  â˜ 8.3 Confirmar antes de eliminar usuarios
  â˜ 8.4 No permitir auto-eliminaciÃ³n
  â˜ 8.5 Validar que exista al menos 1 SUPER_ADMIN activo
  â˜ 8.6 Implementar manejo de errores en login
  â˜ 8.7 Implementar mensajes user-friendly

â–¡ FASE 9: COMPONENTES CONDICIONALES
  â˜ 9.1 Actualizar todos los botones "Crear" con v-if="canCreate()"
  â˜ 9.2 Actualizar todos los botones "Editar" con v-if="canEdit()"
  â˜ 9.3 Actualizar todos los botones "Eliminar" con v-if="canDelete()"
  â˜ 9.4 Deshabilitar campos de formulario si no tiene permisos

â–¡ FASE 10: TESTING
  â˜ 10.1 Probar login con credenciales correctas
  â˜ 10.2 Probar login con credenciales incorrectas
  â˜ 10.3 Probar que sidebar muestre solo mÃ³dulos permitidos
  â˜ 10.4 Probar creaciÃ³n de usuario como SUPER_ADMIN
  â˜ 10.5 Probar asignaciÃ³n de roles
  â˜ 10.6 Probar configuraciÃ³n de permisos
  â˜ 10.7 Probar acceso a mÃ³dulos con usuario limitado
  â˜ 10.8 Probar logout
  â˜ 10.9 Probar recuperaciÃ³n de password
  â˜ 10.10 Probar que routes guards funcionen

================================================================================
LIBRERÃAS ADICIONALES RECOMENDADAS
================================================================================

â–¡ Chart.js o ApexCharts - Para grÃ¡ficos
â–¡ date-fns o dayjs - Manejo de fechas
â–¡ vee-validate + yup - ValidaciÃ³n de formularios
â–¡ vue-i18n - InternacionalizaciÃ³n
â–¡ @vueuse/core - Composables Ãºtiles
â–¡ pdfmake o jsPDF - GeneraciÃ³n de PDFs
â–¡ xlsx - ExportaciÃ³n a Excel
â–¡ heroicons o lucide-vue - Iconos

================================================================================
NOTAS IMPORTANTES
================================================================================

- El dashboard es el punto de entrada principal despuÃ©s del login
- Debe ser responsive (mobile-first)
- Todos los datos deben venir del backend desarrollado
- Implementar manejo de errores robusto
- Feedback visual para todas las acciones del usuario
- Optimizar para rendimiento (muchos datos de nÃ³mina)
- Considerar accesibilidad (a11y)

================================================================================
INFORMACIÃ“N ADICIONAL CRÃTICA PARA EL FRONTEND
================================================================================

A. MODELO DIRECCION (Objeto Anidado en Persona)
------------------------------------------------
ğŸ“Œ Direccion NO es una entidad independiente, es un objeto anidado en Persona

â–¡ ESTRUCTURA:
  ```typescript
  interface Direccion {
    Calle: string;
    Numero: string;
    Piso: string;
  }
  ```

â–¡ USO EN PERSONA:
  - Persona tiene una propiedad Direccion de tipo Direccion
  - Se envÃ­a como objeto anidado en el JSON
  - Todos los campos son opcionales (string vacÃ­o por defecto)

B. ENDPOINT ESPECIAL: RECALCULAR NÃ“MINA
----------------------------------------
ğŸ“Œ Permite recalcular una nÃ³mina existente (Ãºtil si hay cambios en novedades)

â–¡ ENDPOINT:
  POST /api/nomina/recalcular
  Body: { "EmpleadoId": "string", "Periodo": "string" }

â–¡ COMPORTAMIENTO:
  1. Verifica que la nÃ³mina exista
  2. Elimina la nÃ³mina existente
  3. Genera nueva nÃ³mina con datos actualizados
  4. Recalcula con novedades actuales del periodo
  5. Regenera provisiones

â–¡ CASOS DE USO:
  - Se agregaron/modificaron novedades despuÃ©s de generar nÃ³mina
  - Se corrigiÃ³ el salario base del empleado
  - Mostrar botÃ³n "Recalcular" en vista de nÃ³mina

C. FORMATO DE FECHAS Y PERIODOS
--------------------------------
ğŸ“Œ IMPORTANTE: EstandarizaciÃ³n de formatos

â–¡ PERIODO (YYYY-MM):
  - Formato: "2025-11"
  - ValidaciÃ³n regex: /^\d{4}-(0[1-9]|1[0-2])$/
  
â–¡ FECHAS ISO (YYYY-MM-DD):
  - Formato: "2025-11-29"
  - Usado en: DateCreated, FechaIngreso, DateBirthday
  
â–¡ DATETIME ISO (YYYY-MM-DDThh:mm:ssZ):
  - Formato: "2025-11-29T14:30:00Z"
  - Usado en: FechaCalculo de nÃ³minas

D. ENUMERACIONES IMPORTANTES
-----------------------------
â–¡ StatusLaboral (Empleado):
  - Active = 0 (Activo, genera nÃ³mina)
  - Inactive = 1 (Inactivo, no genera nÃ³mina)
  - OnLeave = 2 (Con licencia)
  - Retired = 3 (Retirado)

â–¡ EstadoWorkspace:
  - Abierto = 0 (permite cambios)
  - Cerrado = 1 (periodo finalizado)

â–¡ TipoParametro / TipoNovedad:
  - "INGRESO" | "EGRESO" | "PROVISION"

â–¡ Gender (Persona):
  - "M" | "F"

E. ESTRUCTURA DE RESPUESTAS DE ERROR
-------------------------------------
â–¡ Formato estÃ¡ndar:
  ```json
  {
    "message": "DescripciÃ³n del error",
    "error": "Detalles tÃ©cnicos"
  }
  ```

â–¡ CÃ³digos HTTP:
  - 200: OK
  - 201: Created
  - 400: Bad Request (validaciÃ³n)
  - 404: Not Found
  - 500: Internal Server Error

F. ORDEN DE IMPLEMENTACIÃ“N SUGERIDO
------------------------------------
â–¡ SPRINT 1: ConfiguraciÃ³n + Departamentos + Personas + ParÃ¡metros + Workspaces
â–¡ SPRINT 2: Empleados + Banking + Novedades
â–¡ SPRINT 3: NÃ³minas + Provisiones + Dashboard
â–¡ SPRINT 4: Reportes + Exportaciones + Testing

G. CHECKLIST DE VALIDACIONES FRONTEND
--------------------------------------
â–¡ ANTES DE ENVIAR:
  âœ“ Validar formato de periodo (YYYY-MM)
  âœ“ Validar campos requeridos no vacÃ­os
  âœ“ Validar rangos numÃ©ricos (salario > 0)
  âœ“ Validar formatos de email y DNI

â–¡ DESPUÃ‰S DE RECIBIR:
  âœ“ Verificar cÃ³digo HTTP
  âœ“ Mostrar mensajes user-friendly
  âœ“ Actualizar estado global (Pinia)
  âœ“ Invalidar cachÃ© si necesario

H. MANEJO DE ESTADOS DE CARGA
------------------------------
â–¡ Estados: loading, error, success, idle
â–¡ Feedback visual: Spinners, toasts, skeleton loaders
â–¡ Disable buttons durante proceso
â–¡ Try-catch en todas las llamadas API

I. CONSTANTES Y OPCIONES DE DROPDOWN (CENTRALIZADO)
----------------------------------------------------
âš ï¸ CRÃTICO: Crear archivo central con todas las opciones de dropdown

â–¡ Archivo: src/constants/dropdownOptions.ts
  ```typescript
  export interface DropdownOption {
    value: string | number
    label: string
  }
  
  // Status Laboral
  export const STATUS_LABORAL_OPTIONS: DropdownOption[] = [
    { value: 0, label: 'Activo' },
    { value: 1, label: 'Inactivo' },
    { value: 2, label: 'Con Licencia' },
    { value: 3, label: 'Retirado' }
  ]
  
  // GÃ©nero
  export const GENDER_OPTIONS: DropdownOption[] = [
    { value: 'M', label: 'Masculino' },
    { value: 'F', label: 'Femenino' }
  ]
  
  // Tipo de ParÃ¡metro/Novedad
  export const TIPOS_PARAMETRO: DropdownOption[] = [
    { value: 'INGRESO', label: 'Ingreso' },
    { value: 'EGRESO', label: 'Egreso' },
    { value: 'PROVISION', label: 'ProvisiÃ³n' }
  ]
  
  export const TIPOS_NOVEDAD: DropdownOption[] = [
    { value: 'INGRESO', label: 'Ingreso' },
    { value: 'EGRESO', label: 'Egreso' }
  ]
  
  // Tipos de CÃ¡lculo - INGRESO
  export const TIPOS_CALCULO_INGRESO: DropdownOption[] = [
    { value: 'HORAS_EXTRAS_50', label: 'Horas extras al 50%' },
    { value: 'HORAS_EXTRAS_100', label: 'Horas extras al 100%' },
    { value: 'SIMPLE', label: 'Valor fijo (variables, bonos)' },
    { value: 'DECIMO_TERCERO', label: 'DÃ©cimo tercero mensualizado' },
    { value: 'DECIMO_CUARTO', label: 'DÃ©cimo cuarto mensualizado' },
    { value: 'FONDOS_RESERVA', label: 'Fondos de reserva mensualizado' }
  ]
  
  // Tipos de CÃ¡lculo - EGRESO
  export const TIPOS_CALCULO_EGRESO: DropdownOption[] = [
    { value: 'IESS_PERSONAL', label: 'IESS personal (9.45%)' },
    { value: 'IESS_EXTENSION', label: 'IESS extensiÃ³n cÃ³nyuge (3.41%)' },
    { value: 'IMPUESTO_RENTA', label: 'Impuesto a la renta' },
    { value: 'EGRESO', label: 'Descuento simple (valor fijo)' }
  ]
  
  // Tipos de CÃ¡lculo - PROVISION
  export const TIPOS_CALCULO_PROVISION: DropdownOption[] = [
    { value: 'PROVISION_VACACIONES', label: 'ProvisiÃ³n vacaciones' },
    { value: 'IESS_PATRONAL', label: 'IESS patronal (12.15%)' },
    { value: 'DECIMO_TERCERO_ACUMULADO', label: 'DÃ©cimo 13Â° acumulado' },
    { value: 'DECIMO_CUARTO_ACUMULADO', label: 'DÃ©cimo 14Â° acumulado' },
    { value: 'FONDOS_RESERVA_ACUMULADO', label: 'Fondos reserva acumulado' }
  ]
  
  // Helper function
  export function getTiposCalculoByTipo(tipo: string): DropdownOption[] {
    switch (tipo) {
      case 'INGRESO':
        return TIPOS_CALCULO_INGRESO
      case 'EGRESO':
        return TIPOS_CALCULO_EGRESO
      case 'PROVISION':
        return TIPOS_CALCULO_PROVISION
      default:
        return []
    }
  }
  
  // Tipo de Cuenta Bancaria
  export const TIPO_CUENTA_OPTIONS: DropdownOption[] = [
    { value: 'Cuenta de ahorros', label: 'Cuenta de ahorros' },
    { value: 'Cuenta corriente', label: 'Cuenta corriente' }
  ]
  
  // Estado Workspace
  export const ESTADO_WORKSPACE_OPTIONS: DropdownOption[] = [
    { value: 0, label: 'Abierto' },
    { value: 1, label: 'Cerrado' }
  ]
  ```

â–¡ USO EN COMPONENTES:
  ```vue
  <script setup lang="ts">
  import { STATUS_LABORAL_OPTIONS, GENDER_OPTIONS } from '@/constants/dropdownOptions'
  </script>
  
  <template>
    <!-- GÃ©nero -->
    <select v-model="form.Gender">
      <option value="">Seleccione gÃ©nero</option>
      <option 
        v-for="option in GENDER_OPTIONS" 
        :key="option.value"
        :value="option.value"
      >
        {{ option.label }}
      </option>
    </select>
    
    <!-- Status Laboral -->
    <select v-model="form.StatusLaboral">
      <option value="">Seleccione estado</option>
      <option 
        v-for="option in STATUS_LABORAL_OPTIONS" 
        :key="option.value"
        :value="option.value"
      >
        {{ option.label }}
      </option>
    </select>
  </template>
  ```

â–¡ VENTAJAS:
  âœ“ Valores consistentes en toda la aplicaciÃ³n
  âœ“ FÃ¡cil mantenimiento (un solo lugar)
  âœ“ Evita errores de escritura
  âœ“ ValidaciÃ³n automÃ¡tica por TypeScript
  âœ“ Reutilizable en mÃºltiples componentes

J. TESTING - DATOS DE PRUEBA
-----------------------------
â–¡ EMPLEADO 1 - SOFIA LAVERDE (DNI: 1724088701):
  - Salario: $700
  - DÃ©cimos: Mensualizados
  - Usar Example.txt para validar cÃ¡lculos

â–¡ EMPLEADO 2 - CATALINA RODRIGUEZ (DNI: 1718332701):
  - Salario: $975
  - DÃ©cimos: Acumulados
  - Usar Example.txt para validar cÃ¡lculos

================================================================================
FIN DEL PLAN
================================================================================

